!function(){"use strict";let t=t=>Object.entries(t).reduce((t,[e,i])=>null==i?t:{...t,[e]:i},{}),e=t=>{let e=Object.keys(t),i="";return e.forEach(e=>{t[e]&&(i+=`${e}: ${t[e]};`)}),i},i=t=>`g-${t}`,n=(t,e)=>t?(null==t?void 0:t.type)&&!t.custom?i(t.type):"":(null==e?void 0:e.type)&&i(null==e?void 0:e.type);function o(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}class l{createNotify(){let t=n(this.typo),e=this.composeStyle();this.addWrapper(),this.addElement(t,e),this.addCloseBtn(),setTimeout(()=>{this.$element&&(this.$element.remove(),this.$element=null)},this.duration)}addWrapper(){let t=document.getElementById("notification-wrapper");if(t)this.$wrapper=t;else{let t=document.createElement("div");t.id="notification-wrapper",t.className="gps",t.style.cssText=`position: fixed;
        left: 50%;
        top: 16px;
        z-index: 100000;
        display: flex;
        flex-direction: column;
        gap: 8px;
        transform: translateX(-50%);
      `,this.$wrapper=t,document.body.appendChild(t),this.addFontSizeReponsive()}}addFontSizeReponsive(){var t,e,i,n,o;let l=document.createElement("style"),s=null===(t=this.typo)||void 0===t?void 0:t.custom;l.textContent=`
      @media only screen and (max-width: 1023px) and (min-width: 768px) {
        .message-type-${this.type} {
          font-size: ${(null==s?void 0:null===(e=s.fontSize)||void 0===e?void 0:e.tablet)?null==s?void 0:null===(i=s.fontSize)||void 0===i?void 0:i.tablet:void 0} !important;
        }
      }
      @media only screen and (max-width: 767px) {
        .message-type-${this.type} {
          font-size: ${(null==s?void 0:null===(n=s.fontSize)||void 0===n?void 0:n.mobile)?null==s?void 0:null===(o=s.fontSize)||void 0===o?void 0:o.mobile:void 0} !important;
        }
      }
    `,this.$wrapper&&this.$wrapper.appendChild(l)}addElement(t,i){var n,o;let l=`<div class="message-container ${t} message-type-${this.type}"
        style="color: ${this.getColor()}; ${i?e(i):""}";
      >`+((null===(o=this.typo)||void 0===o?void 0:null===(n=o.attrs)||void 0===n?void 0:n.transform)==="capitalize"?this.message.toString().toLocaleLowerCase():this.message)+`</div>
      <div class="close-notification">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"><path fill="currentColor" d="M6.4 19L5 17.6l5.6-5.6L5 6.4L6.4 5l5.6 5.6L17.6 5L19 6.4L13.4 12l5.6 5.6l-1.4 1.4l-5.6-5.6Z"/></svg>
      </div>`,s=document.createElement("div");s.className="toast-notification",s.innerHTML=l;let r=document.getElementsByClassName("toast-notification");3===r.length&&r[0]&&r[0].parentNode&&r[0].parentNode.removeChild(r[0]),s&&(s.style.cssText=`min-width:200px;
        height:auto;
        background-color:white;
        border-radius:10px;
        box-shadow:rgba(100, 100, 111, 0.2) 0px 7px 29px 0px;
        text-align:center;
        align-items: center;
        display:flex;
        gap:10px;
        padding:16px 8px;
        justify-content:center;
      `),this.$element=s,this.$wrapper&&this.$wrapper.appendChild(this.$element)}addCloseBtn(){if(this.$element){let t=this.$element.querySelector(".close-notification");t&&(t.style.cssText="width: 16px; height: 16px; cursor: pointer; display: flex; align-items: center;",t.addEventListener("click",()=>{this.$element&&this.$element.remove()}))}}success({message:t,duration:e,typo:i}){this.message=t,this.type="success",this.duration=e,this.typo=i,this.createNotify()}error({message:t,duration:e,typo:i}){this.message=t,this.type="error",this.duration=e,this.typo=i,this.createNotify()}warning({message:t,duration:e,typo:i}){this.message=t,this.type="warning",this.duration=e,this.typo=i,this.createNotify()}getColor(){switch(this.type){case"success":default:return"#52C41A";case"error":return"#EA3335";case"warning":return"#f1c40f"}}constructor(){o(this,"message","notification"),o(this,"type","success"),o(this,"duration",1e3),o(this,"$element",null),o(this,"$wrapper",void 0),o(this,"typo",void 0),o(this,"composeStyle",()=>{if(this.typo){var e,i;let n=this.typo.attrs,o=this.typo.custom;return t({"font-family":(null==o?void 0:o.fontFamily)?`var(--g-font-${o.fontFamily.replace(/ /g,"-")}, ${o.fontFamily})`:void 0,"font-size":(null==o?void 0:null===(e=o.fontSize)||void 0===e?void 0:e.desktop)?null==o?void 0:null===(i=o.fontSize)||void 0===i?void 0:i.desktop:void 0,"font-weight":(null==n?void 0:n.bold)?"bold":(null==o?void 0:o.fontWeight)?null==o?void 0:o.fontWeight:void 0,"letter-spacing":null==o?void 0:o.letterSpacing,"line-height":null==o?void 0:o.lineHeight,"font-style":(null==n?void 0:n.italic)?"italic":void 0,"text-decoration-line":(null==n?void 0:n.underline)?"underline":void 0,"text-transform":null==n?void 0:n.transform})}})}}let s=new RegExp(/^(?:[^<>()[\]\\.,;:\s@"]+(?:\.[^<>()[\]\\.,;:\s@"]+)*|".+")@(?:\[\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}\]|(?:[a-zA-Z\-\d]+\.)+[a-zA-Z]{2,})$/),r=(t,e)=>{let i=d(t,null==e?void 0:e.type,null==e?void 0:e.min),n=u(t,null==e?void 0:e.type,null==e?void 0:e.max),o=null==e||!e.required||c(t),l=h(t,null==e?void 0:e.type);return{isValid:i&&n&&o&&l,isMin:i,isMax:n,isRequired:o,isType:l}};function a(t){return void 0!==t&&/^[+-]?\d+(?:\.\d+)?$/.test(t)}let d=(t,e,i)=>{if(void 0===i||!i)return!0;switch(e){case"string":case"email":return!!t&&t.length>=i;case"number":return a(t)&&Number(t)>=i;default:return!0}},u=(t,e,i)=>{if(!i||!t)return!0;switch(e){case"string":case"email":return t.length<=i;case"number":return a(t)&&Number(t)<=i;default:return!0}},c=t=>!!t,h=(t,e)=>{if(void 0===t)return!0;switch(e){case"string":return"string"==typeof t;case"number":return a(t);case"boolean":return"boolean"==typeof t||"true"===t||"false"===t;case"array":return!!t||Array.isArray(t);case"email":return"string"==typeof t&&s.test(t);default:return!1}};function v(t,e){if(e.has(t))throw TypeError("Cannot initialize the same private elements twice on an object")}function p(t,e,i){if(!e.has(t))throw TypeError("attempted to "+i+" private field on non-instance");return e.get(t)}function m(t,e){var i=p(t,e,"get");return i.get?i.get.call(t):i.value}function f(t,e,i){v(t,e),e.set(t,i)}function y(t,e,i){if(!e.has(t))throw TypeError("attempted to get private field on non-instance");return i}function g(t,e){v(t,e),e.add(t)}function S(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var b=new WeakMap,w=new WeakSet,x=new WeakSet,$=new WeakSet,k=new WeakSet,E=new WeakSet,q=new WeakSet,C=new WeakSet,B=new WeakMap,L=new WeakMap,O=new WeakSet,T=new WeakSet,W=new WeakSet,I=new WeakSet,N=new WeakSet,M=new WeakSet,z=new WeakSet;class V extends GP.Component{constructor(){var t,e,i,n,o,l,s,a,d,u,c,h;super(),g(this,w),g(this,x),g(this,$),g(this,k),g(this,E),g(this,q),g(this,C),g(this,O),g(this,T),g(this,W),g(this,I),g(this,N),g(this,M),g(this,z),S(this,"quantity",void 0),S(this,"inventoryQuantity",void 0),S(this,"variantSelectedID",void 0),S(this,"$button",void 0),S(this,"$buttonSoldOut",void 0),S(this,"variantID",void 0),S(this,"totalVariant",void 0),S(this,"disabled",void 0),S(this,"errorMessage",void 0),S(this,"successMessage",void 0),f(this,b,{writable:!0,value:void 0}),S(this,"productButtonSetting",void 0),S(this,"productNotificationStyles",void 0),S(this,"currentVariantSelected",null),S(this,"showButtonSoldOut",()=>{var t,e,i,n,o;null===(t=this.$button)||void 0===t||t.setAttribute("disabled","disabled"),null===(i=this.$button)||void 0===i||null===(e=i.parentElement)||void 0===e||e.classList.add("!hidden"),null===(o=this.$buttonSoldOut)||void 0===o||null===(n=o.parentElement)||void 0===n||n.classList.remove("!hidden")}),S(this,"hiddenButtonSoldOut",()=>{var t,e,i,n,o;null===(t=this.$button)||void 0===t||t.removeAttribute("disabled"),null===(i=this.$button)||void 0===i||null===(e=i.parentElement)||void 0===e||e.classList.remove("!hidden"),null===(o=this.$buttonSoldOut)||void 0===o||null===(n=o.parentElement)||void 0===n||n.classList.add("!hidden")}),S(this,"setErrorStyle",t=>{t.style.border="1px solid red"}),S(this,"fieldsetValidate",()=>{let t=!0,e=this.closest("form"),i=null==e?void 0:e.querySelectorAll('[data-required="true"]');return null==i||i.forEach(e=>{let i=e.querySelectorAll("input[name]");i.forEach(i=>{""===i.value&&(t=!1,this.setErrorStyle(e))})}),t}),S(this,"getInputInvalid",()=>{let t=this.closest("form"),e=null==t?void 0:t.querySelectorAll("input:invalid");return e}),S(this,"setErrorForInputs",()=>{let t=this.getInputInvalid();null==t||t.forEach(t=>{this.setErrorStyle(t)})}),S(this,"formValidate",()=>{let t=this.closest("form"),e=this.fieldsetValidate();return(null==t?void 0:t.reportValidity())&&e}),f(this,B,{writable:!0,value:(t,e)=>{var i,n;let o=new CustomEvent("gp:open-cart-drawer",{bubbles:!0,cancelable:!0,detail:{data:t},composed:!0});if(document.dispatchEvent(o),(null===(n=window)||void 0===n?void 0:null===(i=n.GPF)||void 0===i?void 0:i.openCartDrawer)&&"function"==typeof window.GPF.openCartDrawer){try{window.GPF.openCartDrawer(t)}catch(t){console.error(t.message),window.location.href="/cart"}return}if(null!==e&&"function"==typeof e.renderContents){e.classList.contains("is-empty")&&e.classList.remove("is-empty");try{e.renderContents(t)}catch(t){console.error(t.message),window.location.href="/cart"}return}window.location.href="/cart"}}),f(this,L,{writable:!0,value:t=>{var e,i;t.preventDefault(),t.stopPropagation();let n=null===(i=this.closest("gp-product"))||void 0===i?void 0:null===(e=i.querySelector("gp-product-variants"))||void 0===e?void 0:e.getAttribute("has-pre-selected");if("false"==n&&!this.currentVariantSelected&&this.totalVariant&&this.totalVariant>1){y(this,M,X).call(this,"To add to cart, please select an option");return}this.setContext("isSubmit",!0);let o=this.getContext("properties"),l=null==o?void 0:o.some(t=>{let e=r(t.value,t.validation);return!e.isValid});l||y(this,x,j).call(this)}}),this.$button=this.querySelector("button.gp-button-atc"),this.$buttonSoldOut=this.querySelector("button.gp-button-sold-out"),this.productButtonSetting=this.getState("setting"),this.productNotificationStyles=this.getState("styles"),this.variantID=null===(t=this.getContext("variantSelected"))||void 0===t?void 0:t.id,this.totalVariant=this.getState("totalVariant"),this.quantity=null===(e=this.getContext("quantity"))||void 0===e?void 0:e.toString(),this.disabled=null===(n=this.getContext("variantSelected"))||void 0===n?void 0:null===(i=n.available)||void 0===i?void 0:i.toString(),this.errorMessage=null!==(d=null===(o=this.productButtonSetting)||void 0===o?void 0:o.errorMessage)&&void 0!==d?d:"Something went wrong",this.successMessage=null!==(u=null===(l=this.productButtonSetting)||void 0===l?void 0:l.successMessage)&&void 0!==u?u:"Added to cart",h=null!==(c=null===(s=this.productButtonSetting)||void 0===s?void 0:s.errorType)&&void 0!==c?c:"built-in",function(t,e,i){if(e.set)e.set.call(t,i);else{if(!e.writable)throw TypeError("attempted to set read only private field");e.value=i}}(this,p(this,b,"set"),h),y(this,I,Z).call(this),y(this,w,A).call(this),null===(a=this.$button)||void 0===a||a.addEventListener("click",m(this,L))}}function A(){var t,e;let i=isNaN(parseInt(null!==(t=this.inventoryQuantity)&&void 0!==t?t:"0"))?parseInt(null!==(e=this.inventoryQuantity)&&void 0!==e?e:"0"):0;"true"===this.disabled||i>0?this.hiddenButtonSoldOut():this.showButtonSoldOut();let n=this.getContext("currentSelectedOption"),o=this.getContext("variantSelected"),l=n&&Object.values(n).some(t=>"blank"===t);l&&((null==o?void 0:o.available)||!o)&&this.hiddenButtonSoldOut()}function j(){let t=document.querySelector("cart-notification")||document.querySelector("cart-drawer"),e=this.closest("form"),i=this.formValidate();if(!i){null==e||e.reportValidity(),this.setErrorForInputs();return}if(!e){y(this,M,X).call(this,"not found form product");return}y(this,O,G).call(this);let n=new FormData(e);try{n.append("sections",null!==t&&"function"==typeof t.getSectionsToRender?t.getSectionsToRender().map(t=>t.id).join(","):"cart-drawer,cart-icon-bubble")}catch(t){console.error(t),n.append("sections","cart-drawer,cart-icon-bubble")}n.append("section_url",window.location.pathname),fetch("/cart/add.js",{method:"POST",body:n}).then(async t=>t.ok?t.json():t.json().then(t=>{throw t})).then(e=>{var i;let n=null===(i=this.productButtonSetting)||void 0===i?void 0:i.actionEffect;"continue-shopping"===n&&y(this,N,_).call(this),y(this,W,Q).call(this),y(this,T,U).call(this),y(this,E,R).call(this,n,e,t)}).catch(t=>{y(this,M,X).call(this,null==t?void 0:t.description)})}function D(){window.location.href="/checkout"}function F(){var t,e,i,n,o,l,s,r,a;let d=null===(e=this.productButtonSetting)||void 0===e?void 0:null===(t=e.customURL)||void 0===t?void 0:t.link,u=null===(n=this.productButtonSetting)||void 0===n?void 0:null===(i=n.customURL)||void 0===i?void 0:i.target;d&&("_blank"===u?window.open(null===(l=this.productButtonSetting)||void 0===l?void 0:null===(o=l.customURL)||void 0===o?void 0:o.link,"_blank"):window.location.href=null!==(a=null===(r=this.productButtonSetting)||void 0===r?void 0:null===(s=r.customURL)||void 0===s?void 0:s.link)&&void 0!==a?a:"")}function R(t,e,i){switch(t){case"continue-shopping":y(this,q,P).call(this,i,e);break;case"go-to-url":y(this,q,P).call(this,i,e),y(this,k,F).call(this);break;case"buy-now":y(this,$,D).call(this);break;case"open-cart-drawer":m(this,B).call(this,e,i);break;default:y(this,C,H).call(this)}}function P(t,e){let i=(t,e=".shopify-section")=>new DOMParser().parseFromString(t,"text/html").querySelector(e).innerHTML,n=()=>{let t=document.getElementById("cart-icon-bubble");t&&(t.innerHTML=i(e.sections["cart-icon-bubble"]))},o=document.querySelector("cart-drawer");if(null!==o)try{null!==t&&"function"==typeof t.getSectionsToRender&&(t.getSectionsToRender().forEach(t=>{let n=t.selector?document.querySelector(t.selector):document.getElementById(t.id);n.innerHTML=i(e.sections[t.id],t.selector)}),t.classList.contains("is-empty")&&t.classList.remove("is-empty"))}catch(t){console.error(t),n()}else n()}function H(){let t=this.getContext("formId"),e=document.querySelector(`#${t}`);null==e||e.submit()}function G(){var t;null===(t=this.$button)||void 0===t||t.setAttribute("data-state","loading")}function U(){var t;null===(t=this.$button)||void 0===t||t.setAttribute("data-state","idle")}function Q(){var t,e;let i=isNaN(parseInt(null!==(t=this.quantity)&&void 0!==t?t:"0"))?parseInt(null!==(e=this.quantity)&&void 0!==e?e:"0"):0;this.quantity&&(this.quantity=(i>=1?i-1:0).toString())}function Z(){this.subscribeContext((t,e)=>{var i,n,o,l,s,r,a,d,u;this.currentVariantSelected=t.variantSelected,(null===(i=t.variantSelected)||void 0===i?void 0:i.id)!==(null===(n=e.variantSelected)||void 0===n?void 0:n.id)&&(this.variantID=null===(o=t.variantSelected)||void 0===o?void 0:o.id,this.$button&&((null===(r=t.variantSelected)||void 0===r?void 0:r.available)?this.hiddenButtonSoldOut():this.showButtonSoldOut()),this.variantSelectedID&&(null===(l=t.variantSelected)||void 0===l?void 0:l.id)&&(this.variantSelectedID=t.variantSelected.id.toString()),this.quantity&&(this.quantity=null!==(a=null===(s=t.quantity)||void 0===s?void 0:s.toString())&&void 0!==a?a:"1")),t.quantity!=e.quantity&&this.quantity&&(this.quantity=null!==(u=null===(d=t.quantity)||void 0===d?void 0:d.toString())&&void 0!==u?u:"1");let c=t.currentSelectedOption&&Object.values(t.currentSelectedOption).some(t=>"blank"===t);c&&this.hiddenButtonSoldOut(),t.variantSelected&&!t.variantSelected.available&&this.showButtonSoldOut()})}function _(){var t;new l().success({message:this.successMessage,duration:5e3,typo:null===(t=this.productNotificationStyles)||void 0===t?void 0:t.successTypo})}function X(t){var e;new l().error({message:"built-in"===m(this,b)?t:this.errorMessage,duration:5e3,typo:null===(e=this.productNotificationStyles)||void 0===e?void 0:e.errorTypo}),y(this,T,U).call(this)}customElements.get("gp-product-button")||customElements.define("gp-product-button",V)}();
