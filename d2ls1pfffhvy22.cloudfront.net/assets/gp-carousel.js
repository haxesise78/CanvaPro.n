!function(){"use strict";var t=function(){return(t=Object.assign||function(t){for(var e,i=1,n=arguments.length;i<n;i++)for(var o in e=arguments[i])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function e(t,e,i){if(i||2==arguments.length)for(var n,o=0,r=e.length;o<r;o++)!n&&o in e||(n||(n=Array.prototype.slice.call(e,0,o)),n[o]=e[o]);return t.concat(n||Array.prototype.slice.call(e))}function i(t){return Array.prototype.slice.call(t)}function n(t,e){var i=Math.floor(t);return i===e||i+1===e?t:e}function o(){return Date.now()}function r(t,e,i){if(e="data-keen-slider-"+e,null===i)return t.removeAttribute(e);t.setAttribute(e,i||"")}function a(t,e){return e=e||document,"function"==typeof t&&(t=t(e)),Array.isArray(t)?t:"string"==typeof t?i(e.querySelectorAll(t)):t instanceof HTMLElement?[t]:t instanceof NodeList?i(t):[]}function s(t){t.raw&&(t=t.raw),t.cancelable&&!t.defaultPrevented&&t.preventDefault()}function d(t){t.raw&&(t=t.raw),t.stopPropagation&&t.stopPropagation()}function l(){var t=[];return{add:function(e,i,n,o){e.addListener?e.addListener(n):e.addEventListener(i,n,o),t.push([e,i,n,o])},input:function(t,e,i,n){this.add(t,e,function(t){t.nativeEvent&&(t=t.nativeEvent);var e=t.changedTouches||[],n=t.targetTouches||[],o=t.detail&&t.detail.x?t.detail:null;return i({id:o?o.identifier?o.identifier:"i":n[0]?n[0]?n[0].identifier:"e":"d",idChanged:o?o.identifier?o.identifier:"i":e[0]?e[0]?e[0].identifier:"e":"d",raw:t,x:o&&o.x?o.x:n[0]?n[0].screenX:o?o.x:t.pageX,y:o&&o.y?o.y:n[0]?n[0].screenY:o?o.y:t.pageY})},n)},purge:function(){t.forEach(function(t){t[0].removeListener?t[0].removeListener(t[2]):t[0].removeEventListener(t[1],t[2],t[3])}),t=[]}}}function u(t,e,i){return Math.min(Math.max(t,e),i)}function c(t){return(t>0?1:0)-(t<0?1:0)||+t}function v(t){var e=t.getBoundingClientRect();return{height:n(e.height,t.offsetHeight),width:n(e.width,t.offsetWidth)}}function h(t,e,i,n){var o=t&&t[e];return null==o?i:n&&"function"==typeof o?o():o}function p(t){return Math.round(1e6*t)/1e6}function g(t){var e,i,n,o,r,a,s,d;function l(t){return 1-Math.pow(1-t,3)}function v(){return n?t.track.velocity():0}function h(t,e){void 0===e&&(e=1e3);var i=147e-9+(t=Math.abs(t))/e;return{dist:Math.pow(t,2)/i,dur:t/i}}function p(){var e=t.track.details;e&&(r=e.min,a=e.max,s=e.minIdx,d=e.maxIdx)}function g(){t.animator.stop()}t.on("updated",p),t.on("optionsChanged",p),t.on("created",p),t.on("dragStarted",function(){n=!1,g(),e=i=t.track.details.abs}),t.on("dragChecked",function(){n=!0}),t.on("dragEnded",function(){var n,p,f,m,b,y,x=t.options.mode;"snap"===x&&(n=t.track,f=(p=t.track.details).position,m=c(v()),(f>a||f<r)&&(m=0),b=e+m,0===p.slides[n.absToRel(b)].portion&&(b-=m),e!==i&&(b=i),c(n.idxToDist(b,!0))!==m&&(b+=m),b=u(b,s,d),y=n.idxToDist(b,!0),t.animator.start([{distance:y,duration:500,easing:function(t){return 1+--t*t*t*t*t}}])),"free"!==x&&"free-snap"!==x||function(){g();var e="free-snap"===t.options.mode,i=t.track,n=v();o=c(n);var p=t.track.details,f=[];if(n||!e){var m=h(n),b=m.dist,y=m.dur;if(y*=2,b*=o,e){var x=i.idxToDist(i.distToIdx(b),!0);x&&(b=x)}f.push({distance:b,duration:y,easing:l});var k=p.position,w=k+b;if(w<r||w>a){var D=w<r?r-k:a-k,E=0,B=n;if(c(D)===o){var S=Math.min(Math.abs(D)/Math.abs(b),1),T=(1-Math.pow(1-S,1/3))*y;f[0].earlyExit=T,B=n*(1-S)}else f[0].earlyExit=0,E+=D;var C=h(B,100),I=C.dist*o;t.options.rubberband&&(f.push({distance:I,duration:2*C.dur,easing:l}),f.push({distance:-I+E,duration:500,easing:l}))}t.animator.start(f)}else t.moveToIdx(u(p.abs,s,d),!0,{duration:500,easing:function(t){return 1+--t*t*t*t*t}})}()}),t.on("dragged",function(){i=t.track.details.abs})}function f(t){var e,i,n,o,r,v,h,p,g,f,m,b,y,x,k,w,D,E,B=l();function S(e){if(v&&p===e.id){var a=A(e);if(g){if(!I(e))return C(e);f=a,g=!1,t.emit("dragChecked")}if(w)return f=a;s(e);var l=function(e){if(D===-1/0&&E===1/0)return e;var n=t.track.details,a=n.length,s=n.position,d=u(e,D-s,E-s);if(0===a)return 0;if(!t.options.rubberband)return d;if(s<=E&&s>=D||s<D&&i>0||s>E&&i<0)return e;var l=Math.max(0,1-Math.abs((s<D?s-D:s-E)/a*(o*a))/r*2);return l*l*e}(h(f-a)/o*n);i=c(l);var y=t.track.details.position;(y>D&&y<E||y===D&&i>0||y===E&&i<0)&&d(e),m+=l,!b&&Math.abs(m*o)>5&&(b=!0),t.track.add(l),f=a,t.emit("dragged")}}function T(e){!v&&t.track.details&&t.track.details.length&&(m=0,v=!0,b=!1,g=!0,p=e.id,I(e),f=A(e),t.emit("dragStarted"))}function C(e){v&&p===e.idChanged&&(v=!1,t.emit("dragEnded"))}function I(t){var e=M(),i=e?t.y:t.x,n=e?t.x:t.y,o=void 0!==y&&void 0!==x&&Math.abs(x-n)<=Math.abs(y-i);return y=i,x=n,o}function A(t){return M()?t.y:t.x}function M(){return t.options.vertical}function L(){o=t.size,r=M()?window.innerHeight:window.innerWidth;var e=t.track.details;e&&(D=e.min,E=e.max)}function O(t){b&&(d(t),s(t))}function W(){if(B.purge(),t.options.drag&&!t.options.disabled){h="function"==typeof(o=t.options.dragSpeed||1)?o:function(t){return t*o},n=t.options.rtl?-1:1,L(),e=t.container,i="data-keen-slider-clickable",a("[".concat(i,"]:not([").concat(i,"=false])"),e).map(function(t){B.add(t,"dragstart",d),B.add(t,"mousedown",d),B.add(t,"touchstart",d)}),B.add(e,"dragstart",function(t){s(t)}),B.add(e,"click",O,{capture:!0}),B.input(e,"ksDragStart",T),B.input(e,"ksDrag",S),B.input(e,"ksDragEnd",C),B.input(e,"mousedown",T),B.input(e,"mousemove",S),B.input(e,"mouseleave",C),B.input(e,"mouseup",C),B.input(e,"touchstart",T,{passive:!0}),B.input(e,"touchmove",S,{passive:!1}),B.input(e,"touchend",C),B.input(e,"touchcancel",C),B.add(window,"wheel",function(t){v&&s(t)});var i,o,r="data-keen-slider-scrollable";a("[".concat(r,"]:not([").concat(r,"=false])"),t.container).map(function(t){var e;B.input(t,"touchstart",function(t){e=A(t),w=!0,k=!0},{passive:!0}),B.input(t,"touchmove",function(i){var n=M(),o=n?t.scrollHeight-t.clientHeight:t.scrollWidth-t.clientWidth,r=e-A(i),a=n?t.scrollTop:t.scrollLeft,d=n&&"scroll"===t.style.overflowY||!n&&"scroll"===t.style.overflowX;if(e=A(i),(r<0&&a>0||r>0&&a<o)&&k&&d)return w=!0;k=!1,s(i),w=!1}),B.input(t,"touchend",function(){w=!1})})}}t.on("updated",L),t.on("optionsChanged",W),t.on("created",W),t.on("destroyed",B.purge)}function m(t){var e,i,n=null;function o(e,i,n){t.animator.active?a(e,i,n):requestAnimationFrame(function(){return a(e,i,n)})}function r(){o(!1,!1,i)}function a(i,o,r){var a=0,s=t.size,u=t.track.details;if(u&&e){var c=u.slides;e.forEach(function(t,e){if(i)!n&&o&&d(t,null,r),l(t,null,r);else{if(!c[e])return;var u=c[e].size*s;!n&&o&&d(t,u,r),l(t,c[e].distance*s-a,r),a+=u}})}}function s(e){return"performance"===t.options.renderMode?Math.round(e):e}function d(t,e,i){var n=i?"height":"width";null!==e&&(e=s(e)+"px"),t.style["min-"+n]=e,t.style["max-"+n]=e}function l(t,e,i){if(null!==e){e=s(e);var n=i?e:0;e="translate3d(".concat(i?0:e,"px, ").concat(n,"px, 0)")}t.style.transform=e,t.style["-webkit-transform"]=e}function u(){e&&(a(!0,!0,i),e=null),t.on("detailsChanged",r,!0)}function c(){o(!1,!0,i)}function v(){u(),i=t.options.vertical,t.options.disabled||"custom"===t.options.renderMode||(n="auto"===h(t.options.slides,"perView",null),t.on("detailsChanged",r),(e=t.slides).length&&c())}t.on("created",v),t.on("optionsChanged",v),t.on("beforeOptionsChanged",function(){u()}),t.on("updated",c),t.on("destroyed",u)}var b=function(i,n,s){try{var d,b,y,x;return b=e([(d={drag:!0,mode:"snap",renderMode:"precision",rubberband:!0,selector:".keen-slider__slide"},function(e){var n,o,s,u,c,p=l();function g(t){var i;r(e.container,"reverse","rtl"!==(i=e.container,window.getComputedStyle(i,null).getPropertyValue("direction"))||t?null:""),r(e.container,"v",e.options.vertical&&!t?"":null),r(e.container,"disabled",e.options.disabled&&!t?"":null)}function f(){m()&&k()}function m(){var i=null;if(u.forEach(function(t){t.matches&&(i=t.__media)}),i===n)return!1;n||e.emit("beforeOptionsChanged"),n=i;var o=i?s.breakpoints[i]:s;return e.options=t(t({},s),o),g(),S(),T(),D(),!0}function b(){return e.options.trackConfig.length}function y(i){for(var r in n=!1,s=t(t({},d),i),p.purge(),o=e.size,u=[],s.breakpoints||[]){var a=window.matchMedia(r);a.__media=r,u.push(a),p.add(a,"change",f)}p.add(window,"orientationchange",B),p.add(window,"resize",E),m()}function x(t){e.animator.stop();var i=e.track.details;e.track.init(null!=t?t:i?i.abs:0)}function k(t){x(t),e.emit("optionsChanged")}function w(t,i){if(t)return y(t),void k(i);S(),T();var n=b();D(),b()!==n?k(i):x(i),e.emit("updated")}function D(){var t=e.options.slides;if("function"==typeof t)return e.options.trackConfig=t(e.size,e.slides);for(var i=e.slides,n=i.length,o="number"==typeof t?t:h(t,"number",n,!0),r=[],a=h(t,"perView",1,!0),s=h(t,"spacing",0,!0)/e.size||0,d="auto"===a?s:s/a,l=h(t,"origin","auto"),u=0,c=0;c<o;c++){var p="auto"===a?function(t){var i=v(t);return(e.options.vertical?i.height:i.width)/e.size||1}(i[c]):1/a-s+d,g="center"===l?.5-p/2:"auto"===l?0:l;r.push({origin:g,size:p,spacing:s}),u+=p}if(u+=s*(o-1),"auto"===l&&!e.options.loop&&1!==a){var f=0;r.map(function(t){var e=u-f;return f+=t.size+s,e>=1||(t.origin=1-e-(u>1?0:1-u)),t})}e.options.trackConfig=r}function E(){S();var t=e.size;e.options.disabled||t===o||(o=t,w())}function B(){E(),setTimeout(E,500),setTimeout(E,2e3)}function S(){var t=v(e.container);e.size=(e.options.vertical?t.height:t.width)||1}function T(){e.slides=a(e.options.selector,e.container)}e.container=(c=a(i,document)).length?c[0]:null,e.destroy=function(){p.purge(),e.emit("destroyed"),g(!0)},e.prev=function(){e.moveToIdx(e.track.details.abs-1,!0)},e.next=function(){e.moveToIdx(e.track.details.abs+1,!0)},e.update=w,y(e.options)}),m,f,g],s||[],!0),x={},y={emit:function(t){x[t]&&x[t].forEach(function(t){t(y)});var e=y.options&&y.options[t];e&&e(y)},moveToIdx:function(t,e,i){var n=y.track.idxToDist(t,e);if(n){var o=y.options.defaultAnimation;y.animator.start([{distance:n,duration:h(i||o,"duration",500),easing:h(i||o,"easing",function(t){return 1+--t*t*t*t*t})}])}},on:function(t,e,i){void 0===i&&(i=!1),x[t]||(x[t]=[]);var n=x[t].indexOf(e);n>-1?i&&delete x[t][n]:i||x[t].push(e)},options:n},function(){if(y.track=function(t){var i,n,r,a,s,d,l,v,g,f,m,b,y,x,k=1/0,w=[],D=null,E=0;function B(t){L(E+t)}function S(t){var e=T(E+t).abs;return A(e)===e?e:null}function T(t){var i=Math.floor(Math.abs(p(t/n))),o=p((t%n+n)%n);o===n&&(o=0);var r=c(t),a=l.indexOf(e([],l,!0).reduce(function(t,e){return Math.abs(e-o)<Math.abs(t-o)?e:t})),s=a;return r<0&&i++,a===d&&(s=0,i+=r>0?1:-1),{abs:s+i*d*r,origin:a,rel:s}}function C(t,e,i){if(e||!a.loop)return I(t,i);if(A(t)!==t)return null;var n,o=T(null!=i?i:E),r=o.abs,s=t-o.rel,l=r+s;n=I(l);var u=I(l-d*c(s));return(null!==u&&Math.abs(u)<Math.abs(n)||null===n)&&(n=u),p(n)}function I(t,e){if(null==e&&(e=p(E)),i=t,A(i)!==i||null===t)return null;t=Math.round(t);var i,o=T(e),r=o.abs,a=o.rel,s=o.origin,u=M(t),c=(e%n+n)%n,v=l[s],h=Math.floor((t-(r-a))/d)*n;return p(v-c-v+l[u]+h+(s===d?n:0))}function A(t){return u(t,g,f)}function M(t){return(t%d+d)%d}function L(e){i=e-E,w.push({distance:i,timestamp:o()}),w.length>6&&(w=w.slice(-6)),E=p(e);var i,n=O().abs;if(n!==D){var r=null!==D;D=n,r&&t.emit("slideChanged")}}function O(e){var o=e?null:function(){if(d){var t=a.loop,e=t?(E%n+n)%n:E,i=(t?E%n:E)-s[0][2],o=0-(i<0&&t?n-Math.abs(i):i),l=0,u=T(E),v=u.abs,h=u.rel,p=s[h][2],k=s.map(function(e,i){var r=o+l;(r<0-e[0]||r>1)&&(r+=(Math.abs(r)>n-1&&t?n:0)*c(-r));var s=i-h,u=c(s),g=s+v;t&&(-1===u&&r>p&&(g+=d),1===u&&r<p&&(g-=d),null!==m&&g<m&&(r+=n),null!==b&&g>b&&(r-=n));var f=r+e[0]+e[1],y=Math.max(r>=0&&f<=1?1:f<0||r>1?0:r<0?Math.min(1,(e[0]+r)/e[0]):(1-r)/e[0],0);return l+=e[0]+e[1],{abs:g,distance:a.rtl?-1*r+1-e[0]:r,portion:y,size:e[0]}});return h=M(v=A(v)),{abs:A(v),length:r,max:x,maxIdx:f,min:y,minIdx:g,position:E,progress:t?e/n:E/r,rel:h,slides:k,slidesLength:n}}}();return i.details=o,t.emit("detailsChanged"),o}return i={absToRel:M,add:B,details:null,distToIdx:S,idxToDist:C,init:function(e){var i,o,u,c;if(function(){if(d=(s=((a=t.options).trackConfig||[]).map(function(t){return[h(t,"size",1),h(t,"spacing",0),h(t,"origin",0)]})).length){n=p(s.reduce(function(t,e){return t+e[0]+e[1]},0));var e,i=d-1;r=p(n+s[0][2]-s[i][0]-s[i][2]-s[i][1]),l=s.reduce(function(t,i){if(!t)return[0];var n=s[t.length-1],o=t[t.length-1]+(n[0]+n[2])+n[1];return o-=i[2],t[t.length-1]>o&&(o=t[t.length-1]),o=p(o),t.push(o),(!e||e<o)&&(v=t.length-1),e=o,t},null),0===r&&(v=0),l.push(p(n))}}(),!d)return O(!0);i=t.options.range,m=g=(o=t.options.loop)?h(o,"min",-1/0):0,b=f=o?h(o,"max",k):v,u=h(i,"min",null),c=h(i,"max",null),u&&(g=u),c&&(f=c),y=g===-1/0?g:t.track.idxToDist(g||0,!0,0),x=f===k?f:C(f,!0,0),null===c&&(b=f),h(i,"align",!1)&&f!==k&&0===s[M(f)][2]&&(x-=1-s[M(f)][0],f=S(x-E)),y=p(y),x=p(x),Number(e)===e?B(I(A(e))):O()},to:L,velocity:function(){var t=o(),e=w.reduce(function(e,i){var n=i.distance,o=i.timestamp;return t-o>200||(c(n)!==c(e.distance)&&e.distance&&(e={distance:0,lastTimestamp:0,time:0}),e.time&&(e.distance+=n),e.lastTimestamp&&(e.time+=o-e.lastTimestamp),e.lastTimestamp=o),e},{distance:0,lastTimestamp:0,time:0});return e.distance/e.time||0}}}(y),y.animator=function(t){var e,i,n,o,r,a;function s(t){e.active=t}function d(t){e.targetIdx=t}function l(){var e;e=r,window.cancelAnimationFrame(e),s(!1),d(null),a&&t.emit("animationStopped"),a=null}return e={active:!1,start:function(e){if(l(),t.track.details){var u=0,c=t.track.details.position;i=0,n=0,o=e.map(function(t){var e,i=Number(c),o=null!==(e=t.earlyExit)&&void 0!==e?e:t.duration,r=t.easing,a=t.distance*r(o/t.duration)||0;c+=a;var s=n;return n+=o,u+=a,[i,t.distance,s,n,t.duration,r]}),d(t.track.distToIdx(u)),function e(){r=window.requestAnimationFrame(function r(l){a||(a=l),s(!0);var u=l-a;u>n&&(u=n);var c=o[i];if(c[3]<u)return i++,r(l);var v=c[2],h=c[4],p=c[0],g=c[1]*(0,c[5])(0===h?1:(u-v)/h);if(g&&t.track.to(p+g),u<n)return e();a=null,s(!1),d(null),t.emit("animationEnded")})}(),t.emit("animationStarted")}},stop:l,targetIdx:null}}(y),b)for(var t=0;t<b.length;t++)(0,b[t])(y);y.track.init(y.options.initial||0),y.emit("created")}(),y}catch(t){console.error(t)}};let y=t=>{var e;let i;let n=null!==(e=t.options.autoplay)&&void 0!==e?e:{},o=!1;function r(){clearTimeout(i)}function a(){var e,r;clearTimeout(i),i=setTimeout(()=>{!o&&n.enable&&t.next()},null!==(r=null===(e=n)||void 0===e?void 0:e.delay)&&void 0!==r?r:2e3)}function s(){o=!0,r()}function d(){o=!1,a()}t.on("created",()=>{var e;n.pauseOnHover&&(t.container.addEventListener("mouseover",s),t.container.addEventListener("mouseout",d)),(null===(e=t.options.autoplay)||void 0===e?void 0:e.enable)&&a()}),t.on("dragStarted",r),t.on("animationEnded",a),t.on("updated",t=>{var e,i;n=null!==(i=null===(e=t.options)||void 0===e?void 0:e.autoplay)&&void 0!==i?i:{},a()}),t.on("destroyed",()=>{t.container.removeEventListener("mouseover",s),t.container.removeEventListener("mouseout",d)}),t.on("optionsChanged",e=>{var i,r,l,u;(null===(i=e.options.autoplay)||void 0===i?void 0:i.pauseOnHover)===n.pauseOnHover||((null===(r=e.options.autoplay)||void 0===r?void 0:r.pauseOnHover)&&(t.container.addEventListener("mouseover",s),t.container.addEventListener("mouseout",d)),(null===(l=e.options.autoplay)||void 0===l?void 0:l.pauseOnHover)||(t.container.removeEventListener("mouseover",s),t.container.removeEventListener("mouseout",d),o=!1)),a(),n=null!==(u=e.options.autoplay)&&void 0!==u?u:{}})},x=t=>{if(t)return(null==t?void 0:t.startsWith("#"))||(null==t?void 0:t.startsWith("rgb"))||(null==t?void 0:t.startsWith("hsl"))||(null==t?void 0:t.startsWith("transparent"))?t:`var(--g-c-${t}, ${t})`},k=t=>{let e=new MutationObserver(e=>{e.forEach(()=>{t.update()})}),i={childList:!0},n=new ResizeObserver(function(){o(t),t.update()}),o=t=>{if(t.options.vertical){r(t);return}a(t)},r=t=>{t.slides.forEach(t=>{t&&(t.style.maxWidth="",t.style.minWidth="")})},a=t=>{t.slides.forEach(t=>{t&&(t.style.maxHeight="",t.style.minHeight="")})};t.on("created",()=>{n.observe(t.container),e.observe(t.container,i)}),t.on("destroyed",()=>{n.unobserve(t.container),e.disconnect()})};function w(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}let D="gp-carousel-dot",E="gp-carousel-dot--active",B={DESKTOP:"desktop",TABLET:"tablet",MOBILE:"mobile"},S="var(--g-c-highlight, highlight)",T="var(--g-c-bg-1, bg-1);";customElements.get("gp-carousel")||customElements.define("gp-carousel",class extends GP.Component{nextToIndex(t){var e;null===(e=this.slider)||void 0===e||e.moveToIdx(t,!0,{duration:0})}moveToIdx(t){var e;null===(e=this.slider)||void 0===e||e.moveToIdx(t)}getSliderOption(){var t,e,i,n,o,r,a,s,d,l,u,c,v,h,p,g,f;return{selector:`#gp-carousel-${this.componentId}>.gem-slider-item`,drag:null===(t=this.setting)||void 0===t?void 0:t.enableDrag,initial:this.getState("moveToIdx"),dragSpeed:2,renderMode:"precision",mode:"snap",slides:{perView:this.getValueByDevice(null===(e=this.setting)||void 0===e?void 0:e.slidesToShow,B.DESKTOP,4),spacing:this.getValueByDevice(null===(i=this.styles)||void 0===i?void 0:i.spacing,B.DESKTOP,0)},loop:this.getValueByDevice(null===(n=this.setting)||void 0===n?void 0:n.loop,B.DESKTOP,!0),vertical:this.getValueByDevice(null===(o=this.setting)||void 0===o?void 0:o.vertical,B.DESKTOP,!1),breakpoints:{"(max-width: 1023px)":{mode:"snap",slides:{perView:this.getValueByDevice(null===(r=this.setting)||void 0===r?void 0:r.slidesToShow,B.TABLET,4),spacing:this.getValueByDevice(null===(a=this.styles)||void 0===a?void 0:a.spacing,B.TABLET,0)},loop:this.getValueByDevice(null===(s=this.setting)||void 0===s?void 0:s.loop,B.TABLET,!0),vertical:this.getValueByDevice(null===(d=this.setting)||void 0===d?void 0:d.vertical,B.TABLET,!1)},"(max-width: 767px)":{mode:"snap",slides:{perView:this.getValueByDevice(null===(l=this.setting)||void 0===l?void 0:l.slidesToShow,B.MOBILE,4),spacing:this.getValueByDevice(null===(u=this.styles)||void 0===u?void 0:u.spacing,B.MOBILE,0)},loop:this.getValueByDevice(null===(c=this.setting)||void 0===c?void 0:c.loop,B.MOBILE,!0),vertical:this.getValueByDevice(null===(v=this.setting)||void 0===v?void 0:v.vertical,B.MOBILE,!1)}},autoplay:{delay:(null!==(f=null===(h=this.setting)||void 0===h?void 0:h.autoplayTimeout)&&void 0!==f?f:1)*1e3,pauseOnHover:null===(p=this.setting)||void 0===p?void 0:p.pauseOnHover,enable:null===(g=this.setting)||void 0===g?void 0:g.autoplay},created:t=>{this.onCreated(t)},updated:()=>{if(this.productFormID){let t=new CustomEvent("activeMoveIndexSlider-"+this.productFormID);window.dispatchEvent(t)}},slideChanged:t=>{this.setAttribute("active-index",t.track.details.rel.toString());let e=new Event("changeActiveIndex");this.dispatchEvent(e)}}}onCreated(t){this.setSlider(t),this.getBackAndNextButton(),this.getDotContainer(),this.initSliderEvent(),this.updateDotClickEvent(),this.renderSliderDots(),this.checkDisableArrowButton(),this.showWrapper()}setSlider(t){this.slider=t}getBackAndNextButton(){this.nextButton=this.querySelector(`.gp-carousel-action-next.${this.componentId}`),this.backButton=this.querySelector(`.gp-carousel-action-back.${this.componentId}`)}getDotContainer(){this.dotContainer=this.querySelector(`.gp-carousel-dot-container-${this.componentId}`)}initSliderEvent(){this.addEventNextAndBackSlide(),this.addEventSlideChange(),this.addEventAnimationEnded(),this.addEventOptionsChange()}addEventNextAndBackSlide(){var t,e;null===(t=this.nextButton)||void 0===t||t.addEventListener("click",t=>{var e;t.preventDefault(),null===(e=this.slider)||void 0===e||e.next()}),null===(e=this.backButton)||void 0===e||e.addEventListener("click",t=>{var e;t.preventDefault(),null===(e=this.slider)||void 0===e||e.prev()})}addEventSlideChange(){var t;null===(t=this.slider)||void 0===t||t.on("slideChanged",t=>{this.setSlider(t),this.checkDisableArrowButton()})}checkDisableArrowButton(){var t,e,i;let{abs:n=0,maxIdx:o=0}=null!==(i=null===(e=this.slider)||void 0===e?void 0:null===(t=e.track)||void 0===t?void 0:t.details)&&void 0!==i?i:{};o!==1/0&&(this.checkDisabledForBackButton(n),this.checkDisabledForNextButton(n,o))}checkDisabledForBackButton(t){if(this.backButton){if(0===t){this.disableArrowButton(this.backButton);return}this.enableArrowButton(this.backButton)}}checkDisabledForNextButton(t,e){if(this.nextButton){if(t===e){this.disableArrowButton(this.nextButton);return}this.enableArrowButton(this.nextButton)}}disableArrowButton(t){this.isHiddenArrowWhenDisabled&&(t.hidden=!0,t.dataset.hidden="true"),t.disabled=!0}enableArrowButton(t){this.isHiddenArrowWhenDisabled&&(t.hidden=!1,t.dataset.hidden=""),t.disabled=!1}addEventAnimationEnded(){var t;null===(t=this.slider)||void 0===t||t.on("animationEnded",t=>{this.setSlider(t),this.updateDotColor()})}updateDotColor(){var t,e,i,n;let{isInfinity:o,rel:r,slidePerPage:a}=this.getSliderSetting(),s=o?r:Math.ceil(r/("auto"!==a?a:1)),d=null===(t=this.dotContainer)||void 0===t?void 0:t.querySelector(`.${E}`);if(!d)return;let l=(null===(e=d.dataset)||void 0===e?void 0:e.index)?parseInt(null===(i=d.dataset)||void 0===i?void 0:i.index,10):void 0;if(l===s)return;let{activeBgc:u,inactiveBgc:c}=this.getDotBackgroundColorFrom(d);d.style.backgroundColor=c||T,d.classList.remove(E);let v=null===(n=this.dotContainer)||void 0===n?void 0:n.querySelector(`#gp-carousel-${this.componentId}-${s}`);v&&(v.style.backgroundColor=u||S,v.classList.add(E))}getDotBackgroundColorFrom(t){let e=t.previousElementSibling,i="";if(e)i=e.style.backgroundColor;else{var n;let e=t.nextElementSibling;i=(null===(n=e.style)||void 0===n?void 0:n.backgroundColor)||""}let o=t.style.backgroundColor;return{activeBgc:o,inactiveBgc:i}}addEventOptionsChange(){var t;null===(t=this.slider)||void 0===t||t.on("optionsChanged",t=>{this.setSlider(t),this.updateDotClickEvent(),this.renderSliderDots()})}updateDotClickEvent(){this.dotContainer&&this.dotContainer.addEventListener("click",t=>{t.preventDefault();let e=t.target;!e.classList.contains(D)||e.classList.contains(E)||(this.changeStyleForDots(e),this.goToSlideByIndex(this.getSlideIndexByDot(e)))})}changeStyleForDots(t){var e;let i=null===(e=this.dotContainer)||void 0===e?void 0:e.querySelector(`.${E}`);if(!i)return;let n=i.style.backgroundColor,o=t.style.backgroundColor;t.style.backgroundColor=n,t.classList.add(E),i.style.backgroundColor=o,i.classList.remove(E)}getSlideIndexByDot(t){var e;return(null===(e=t.dataset)||void 0===e?void 0:e.index)?parseInt(t.dataset.index,10):void 0}goToSlideByIndex(t){var e,i,n,o;if(void 0===t)return;let r=this.getValueByDevice(null===(e=this.setting)||void 0===e?void 0:e.loop,this.getDeviceName(),!1)?t:this.getIndexSlideItem(t,this.setting);null===(n=this.slider)||void 0===n||n.moveToIdx(r,!0,{duration:(null!==(o=null===(i=this.setting)||void 0===i?void 0:i.speed)&&void 0!==o?o:1)*1e3})}getIndexSlideItem(t,e){var i,n;let o=null!==(n=null===(i=this.slider)||void 0===i?void 0:i.slides.length)&&void 0!==n?n:0,r=this.getValueByDevice(null==e?void 0:e.slidesToShow,this.getDeviceName(),4),a=t*(r="auto"!==r?r:1);return a>=o-r&&(a=o-r),a}renderSliderDots(){let{isInfinity:t,totalSliderItem:e,rel:i,slidePerPage:n}=this.getSliderSetting(),o="auto"!==n?n:1,r=Array.from({length:t?e:Math.ceil(e/o)},(t,e)=>e);if(!this.dotContainer||0===r.length)return;let a="";r.forEach(e=>{let n=e===(t?i:Math.ceil(i/o));a+=this.renderDot({idx:e,isActive:n})}),this.dotContainer.innerHTML=a}renderDot(t){var e,i;let{idx:n,isActive:o}=t,r=o?null===(e=this.setting)||void 0===e?void 0:e.dotActiveColor:null===(i=this.setting)||void 0===i?void 0:i.dotColor;return`
          <button
            id="gp-carousel-${this.componentId}-${n}"
            data-index="${n}"
            aria-label="dot"
            style="background-color: ${r?x(this.getValueByDevice(r,this.getDeviceName(),void 0)):o?S:T};
            aspect-ratio: 1/1; 
            width: 12px;
            border-radius: 9999px; 
            box-shadow: 0 4px 6px -1px rgba(0,0,0,.1);
            --tw-shadow: 0 2px 4px -2px rgba(0,0,0,.1); 
            --tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color);"
            class="${D} ${o?E:""}"
          >
          </button>
        `}getSliderSetting(){var t,e,i,n,o,r,a,s,d,l,u,c,v;return{isInfinity:(null===(i=this.slider)||void 0===i?void 0:null===(e=i.track)||void 0===e?void 0:null===(t=e.details)||void 0===t?void 0:t.maxIdx)===1/0,slidePerPage:this.getValueByDevice(null===(n=this.setting)||void 0===n?void 0:n.slidesToShow,this.getDeviceName(),4),totalSliderItem:null!==(c=null===(s=this.slider)||void 0===s?void 0:null===(a=s.track)||void 0===a?void 0:null===(r=a.details)||void 0===r?void 0:null===(o=r.slides)||void 0===o?void 0:o.length)&&void 0!==c?c:0,rel:null!==(v=null===(u=this.slider)||void 0===u?void 0:null===(l=u.track)||void 0===l?void 0:null===(d=l.details)||void 0===d?void 0:d.rel)&&void 0!==v?v:0}}getValueByDevice(t,e,i){var n,o,r,a,s,d;let l=e||this.getDeviceName();switch(l){case B.MOBILE:return null!==(r=null!==(o=null!==(n=null==t?void 0:t.mobile)&&void 0!==n?n:null==t?void 0:t.tablet)&&void 0!==o?o:null==t?void 0:t.desktop)&&void 0!==r?r:i;case B.TABLET:return null!==(s=null!==(a=null==t?void 0:t.tablet)&&void 0!==a?a:null==t?void 0:t.desktop)&&void 0!==s?s:i;default:return null!==(d=null==t?void 0:t.desktop)&&void 0!==d?d:i}}setWrapperHeight(){this.getSliderWrapper(),this.checkHeightAndAddEventResize()}getSliderWrapper(){this.sliderWrapper=this.querySelector(".gp-carousel-wrapper")}showWrapper(){let t=this.querySelector(".gp-carousel-wrapper");t&&(t.style.visibility="")}checkHeightAndAddEventResize(){this.checkWrapperHeight(),window.addEventListener("resize",()=>{this.checkWrapperHeight()})}checkWrapperHeight(){var t,e;let i=this.getDeviceName();if(null===(t=null===(e=this.setting)||void 0===e?void 0:e.vertical)||void 0===t?void 0:t[i]){let t=this.getHeightByDevice(i);if(!t||!this.sliderWrapper)return;this.sliderWrapper.style.height=t}}getHeightByDevice(t){var e;let i=null===(e=this.styles)||void 0===e?void 0:e.height;switch(t){case"desktop":return null==i?void 0:i.desktop;case"tablet":return(null==i?void 0:i.tablet)||(null==i?void 0:i.desktop);case"mobile":return(null==i?void 0:i.mobile)||(null==i?void 0:i.tablet)||(null==i?void 0:i.desktop)}}getDeviceName(){return window.innerWidth<768?B.MOBILE:window.innerWidth>=768&&window.innerWidth<1024?B.TABLET:B.DESKTOP}updateOptionStyles(t){this.styles={...this.styles,...t},this.checkWrapperHeight()}rerender(){var t;null===(t=this.slider)||void 0===t||t.update()}constructor(){var t;if(super(),w(this,"componentId",void 0),w(this,"setting",void 0),w(this,"styles",void 0),w(this,"slider",void 0),w(this,"sliderWrapper",void 0),w(this,"nextButton",void 0),w(this,"backButton",void 0),w(this,"dotContainer",void 0),w(this,"isHiddenArrowWhenDisabled",void 0),w(this,"productFormID",void 0),this.componentId=this.getState("id"),this.productFormID=null===(t=this.closest("gp-product form"))||void 0===t?void 0:t.getAttribute("id"),!this.componentId)return;this.setting=this.getState("setting"),this.styles=this.getState("styles"),this.isHiddenArrowWhenDisabled=this.getState("isHiddenArrowWhenDisabled"),this.slider=new b(`#gp-carousel-${this.componentId}`,this.getSliderOption(),[t=>k(t),y]),this.setWrapperHeight()}})}();
