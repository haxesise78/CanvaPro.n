!function(){"use strict";let e=()=>window.innerWidth<768?"mobile":window.innerWidth>=768&&window.innerWidth<1024?"tablet":"desktop",t=["desktop","tablet","mobile"],i=(e,t)=>{if(!e)return t;if("number"==typeof e)return e;let i=e.replaceAll("px","").replaceAll("%","").replaceAll("rem","").replaceAll("em","");return isNaN(Number(i))?t:Number(i)};function n(e,t){let i=l({str:e,reg:/_(pico|icon|thumb|small|compact|medium|large|grande|original|1024x1024|2048x2048|master)+\./g,newString:"."}),n=l({str:i,reg:/\.jpg|\.png|\.gif|\.jpeg/g,newString:t,isAdd:!0});return n}let l=e=>{var t;let i=e.str,n=null===(t=e.str.match(e.reg))||void 0===t?void 0:t.length;if(n){let t,l=1;for(;null!==(t=e.reg.exec(e.str));){if(l===n){let n=e.reg.lastIndex,l=n-t[0].length;e.isAdd&&(e.newString="_"+e.newString+t),i=i.slice(0,l)+e.newString+i.slice(n,i.length)}l++}}return i};var r=function(){return(r=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var l in t=arguments[i])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e}).apply(this,arguments)};function o(e,t,i){if(i||2==arguments.length)for(var n,l=0,r=t.length;l<r;l++)!n&&l in t||(n||(n=Array.prototype.slice.call(t,0,l)),n[l]=t[l]);return e.concat(n||Array.prototype.slice.call(t))}function a(e){return Array.prototype.slice.call(e)}function d(e,t){var i=Math.floor(e);return i===t||i+1===t?e:t}function s(){return Date.now()}function u(e,t,i){if(t="data-keen-slider-"+t,null===i)return e.removeAttribute(t);e.setAttribute(t,i||"")}function c(e,t){return t=t||document,"function"==typeof e&&(e=e(t)),Array.isArray(e)?e:"string"==typeof e?a(t.querySelectorAll(e)):e instanceof HTMLElement?[e]:e instanceof NodeList?a(e):[]}function h(e){e.raw&&(e=e.raw),e.cancelable&&!e.defaultPrevented&&e.preventDefault()}function v(e){e.raw&&(e=e.raw),e.stopPropagation&&e.stopPropagation()}function g(){var e=[];return{add:function(t,i,n,l){t.addListener?t.addListener(n):t.addEventListener(i,n,l),e.push([t,i,n,l])},input:function(e,t,i,n){this.add(e,t,function(e){e.nativeEvent&&(e=e.nativeEvent);var t=e.changedTouches||[],n=e.targetTouches||[],l=e.detail&&e.detail.x?e.detail:null;return i({id:l?l.identifier?l.identifier:"i":n[0]?n[0]?n[0].identifier:"e":"d",idChanged:l?l.identifier?l.identifier:"i":t[0]?t[0]?t[0].identifier:"e":"d",raw:e,x:l&&l.x?l.x:n[0]?n[0].screenX:l?l.x:e.pageX,y:l&&l.y?l.y:n[0]?n[0].screenY:l?l.y:e.pageY})},n)},purge:function(){e.forEach(function(e){e[0].removeListener?e[0].removeListener(e[2]):e[0].removeEventListener(e[1],e[2],e[3])}),e=[]}}}function f(e,t,i){return Math.min(Math.max(e,t),i)}function p(e){return(e>0?1:0)-(e<0?1:0)||+e}function m(e){var t=e.getBoundingClientRect();return{height:d(t.height,e.offsetHeight),width:d(t.width,e.offsetWidth)}}function y(e,t,i,n){var l=e&&e[t];return null==l?i:n&&"function"==typeof l?l():l}function b(e){return Math.round(1e6*e)/1e6}function w(e){var t,i,n,l,r,o,a,d;function s(e){return 1-Math.pow(1-e,3)}function u(){return n?e.track.velocity():0}function c(e,t){void 0===t&&(t=1e3);var i=147e-9+(e=Math.abs(e))/t;return{dist:Math.pow(e,2)/i,dur:e/i}}function h(){var t=e.track.details;t&&(r=t.min,o=t.max,a=t.minIdx,d=t.maxIdx)}function v(){e.animator.stop()}e.on("updated",h),e.on("optionsChanged",h),e.on("created",h),e.on("dragStarted",function(){n=!1,v(),t=i=e.track.details.abs}),e.on("dragChecked",function(){n=!0}),e.on("dragEnded",function(){var n,h,g,m,y,b,w=e.options.mode;"snap"===w&&(n=e.track,g=(h=e.track.details).position,m=p(u()),(g>o||g<r)&&(m=0),y=t+m,0===h.slides[n.absToRel(y)].portion&&(y-=m),t!==i&&(y=i),p(n.idxToDist(y,!0))!==m&&(y+=m),y=f(y,a,d),b=n.idxToDist(y,!0),e.animator.start([{distance:b,duration:500,easing:function(e){return 1+--e*e*e*e*e}}])),"free"!==w&&"free-snap"!==w||function(){v();var t="free-snap"===e.options.mode,i=e.track,n=u();l=p(n);var h=e.track.details,g=[];if(n||!t){var m=c(n),y=m.dist,b=m.dur;if(b*=2,y*=l,t){var w=i.idxToDist(i.distToIdx(y),!0);w&&(y=w)}g.push({distance:y,duration:b,easing:s});var x=h.position,S=x+y;if(S<r||S>o){var k=S<r?r-x:o-x,A=0,I=n;if(p(k)===l){var E=Math.min(Math.abs(k)/Math.abs(y),1),C=(1-Math.pow(1-E,1/3))*b;g[0].earlyExit=C,I=n*(1-E)}else g[0].earlyExit=0,A+=k;var M=c(I,100),L=M.dist*l;e.options.rubberband&&(g.push({distance:L,duration:2*M.dur,easing:s}),g.push({distance:-L+A,duration:500,easing:s}))}e.animator.start(g)}else e.moveToIdx(f(h.abs,a,d),!0,{duration:500,easing:function(e){return 1+--e*e*e*e*e}})}()}),e.on("dragged",function(){i=e.track.details.abs})}function x(e){var t,i,n,l,r,o,a,d,s,u,m,y,b,w,x,S,k,A,I=g();function E(t){if(o&&d===t.id){var c=q(t);if(s){if(!L(t))return M(t);u=c,s=!1,e.emit("dragChecked")}if(S)return u=c;h(t);var g=function(t){if(k===-1/0&&A===1/0)return t;var n=e.track.details,o=n.length,a=n.position,d=f(t,k-a,A-a);if(0===o)return 0;if(!e.options.rubberband)return d;if(a<=A&&a>=k||a<k&&i>0||a>A&&i<0)return t;var s=Math.max(0,1-Math.abs((a<k?a-k:a-A)/o*(l*o))/r*2);return s*s*t}(a(u-c)/l*n);i=p(g);var b=e.track.details.position;(b>k&&b<A||b===k&&i>0||b===A&&i<0)&&v(t),m+=g,!y&&Math.abs(m*l)>5&&(y=!0),e.track.add(g),u=c,e.emit("dragged")}}function C(t){!o&&e.track.details&&e.track.details.length&&(m=0,o=!0,y=!1,s=!0,d=t.id,L(t),u=q(t),e.emit("dragStarted"))}function M(t){o&&d===t.idChanged&&(o=!1,e.emit("dragEnded"))}function L(e){var t=T(),i=t?e.y:e.x,n=t?e.x:e.y,l=void 0!==b&&void 0!==w&&Math.abs(w-n)<=Math.abs(b-i);return b=i,w=n,l}function q(e){return T()?e.y:e.x}function T(){return e.options.vertical}function V(){l=e.size,r=T()?window.innerHeight:window.innerWidth;var t=e.track.details;t&&(k=t.min,A=t.max)}function z(e){y&&(v(e),h(e))}function O(){if(I.purge(),e.options.drag&&!e.options.disabled){a="function"==typeof(l=e.options.dragSpeed||1)?l:function(e){return e*l},n=e.options.rtl?-1:1,V(),t=e.container,i="data-keen-slider-clickable",c("[".concat(i,"]:not([").concat(i,"=false])"),t).map(function(e){I.add(e,"dragstart",v),I.add(e,"mousedown",v),I.add(e,"touchstart",v)}),I.add(t,"dragstart",function(e){h(e)}),I.add(t,"click",z,{capture:!0}),I.input(t,"ksDragStart",C),I.input(t,"ksDrag",E),I.input(t,"ksDragEnd",M),I.input(t,"mousedown",C),I.input(t,"mousemove",E),I.input(t,"mouseleave",M),I.input(t,"mouseup",M),I.input(t,"touchstart",C,{passive:!0}),I.input(t,"touchmove",E,{passive:!1}),I.input(t,"touchend",M),I.input(t,"touchcancel",M),I.add(window,"wheel",function(e){o&&h(e)});var i,l,r="data-keen-slider-scrollable";c("[".concat(r,"]:not([").concat(r,"=false])"),e.container).map(function(e){var t;I.input(e,"touchstart",function(e){t=q(e),S=!0,x=!0},{passive:!0}),I.input(e,"touchmove",function(i){var n=T(),l=n?e.scrollHeight-e.clientHeight:e.scrollWidth-e.clientWidth,r=t-q(i),o=n?e.scrollTop:e.scrollLeft,a=n&&"scroll"===e.style.overflowY||!n&&"scroll"===e.style.overflowX;if(t=q(i),(r<0&&o>0||r>0&&o<l)&&x&&a)return S=!0;x=!1,h(i),S=!1}),I.input(e,"touchend",function(){S=!1})})}}e.on("updated",V),e.on("optionsChanged",O),e.on("created",O),e.on("destroyed",I.purge)}function S(e){var t,i,n=null;function l(t,i,n){e.animator.active?o(t,i,n):requestAnimationFrame(function(){return o(t,i,n)})}function r(){l(!1,!1,i)}function o(i,l,r){var o=0,a=e.size,u=e.track.details;if(u&&t){var c=u.slides;t.forEach(function(e,t){if(i)!n&&l&&d(e,null,r),s(e,null,r);else{if(!c[t])return;var u=c[t].size*a;!n&&l&&d(e,u,r),s(e,c[t].distance*a-o,r),o+=u}})}}function a(t){return"performance"===e.options.renderMode?Math.round(t):t}function d(e,t,i){var n=i?"height":"width";null!==t&&(t=a(t)+"px"),e.style["min-"+n]=t,e.style["max-"+n]=t}function s(e,t,i){if(null!==t){t=a(t);var n=i?t:0;t="translate3d(".concat(i?0:t,"px, ").concat(n,"px, 0)")}e.style.transform=t,e.style["-webkit-transform"]=t}function u(){t&&(o(!0,!0,i),t=null),e.on("detailsChanged",r,!0)}function c(){l(!1,!0,i)}function h(){u(),i=e.options.vertical,e.options.disabled||"custom"===e.options.renderMode||(n="auto"===y(e.options.slides,"perView",null),e.on("detailsChanged",r),(t=e.slides).length&&c())}e.on("created",h),e.on("optionsChanged",h),e.on("beforeOptionsChanged",function(){u()}),e.on("updated",c),e.on("destroyed",u)}var k=function(e,t,i){try{var n,l,a,d;return l=o([(n={drag:!0,mode:"snap",renderMode:"precision",rubberband:!0,selector:".keen-slider__slide"},function(t){var i,l,o,a,d,s=g();function h(e){var i;u(t.container,"reverse","rtl"!==(i=t.container,window.getComputedStyle(i,null).getPropertyValue("direction"))||e?null:""),u(t.container,"v",t.options.vertical&&!e?"":null),u(t.container,"disabled",t.options.disabled&&!e?"":null)}function v(){f()&&x()}function f(){var e=null;if(a.forEach(function(t){t.matches&&(e=t.__media)}),e===i)return!1;i||t.emit("beforeOptionsChanged"),i=e;var n=e?o.breakpoints[e]:o;return t.options=r(r({},o),n),h(),E(),C(),k(),!0}function p(){return t.options.trackConfig.length}function b(e){for(var d in i=!1,o=r(r({},n),e),s.purge(),l=t.size,a=[],o.breakpoints||[]){var u=window.matchMedia(d);u.__media=d,a.push(u),s.add(u,"change",v)}s.add(window,"orientationchange",I),s.add(window,"resize",A),f()}function w(e){t.animator.stop();var i=t.track.details;t.track.init(null!=e?e:i?i.abs:0)}function x(e){w(e),t.emit("optionsChanged")}function S(e,i){if(e)return b(e),void x(i);E(),C();var n=p();k(),p()!==n?x(i):w(i),t.emit("updated")}function k(){var e=t.options.slides;if("function"==typeof e)return t.options.trackConfig=e(t.size,t.slides);for(var i=t.slides,n=i.length,l="number"==typeof e?e:y(e,"number",n,!0),r=[],o=y(e,"perView",1,!0),a=y(e,"spacing",0,!0)/t.size||0,d="auto"===o?a:a/o,s=y(e,"origin","auto"),u=0,c=0;c<l;c++){var h="auto"===o?function(e){var i=m(e);return(t.options.vertical?i.height:i.width)/t.size||1}(i[c]):1/o-a+d,v="center"===s?.5-h/2:"auto"===s?0:s;r.push({origin:v,size:h,spacing:a}),u+=h}if(u+=a*(l-1),"auto"===s&&!t.options.loop&&1!==o){var g=0;r.map(function(e){var t=u-g;return g+=e.size+a,t>=1||(e.origin=1-t-(u>1?0:1-u)),e})}t.options.trackConfig=r}function A(){E();var e=t.size;t.options.disabled||e===l||(l=e,S())}function I(){A(),setTimeout(A,500),setTimeout(A,2e3)}function E(){var e=m(t.container);t.size=(t.options.vertical?e.height:e.width)||1}function C(){t.slides=c(t.options.selector,t.container)}t.container=(d=c(e,document)).length?d[0]:null,t.destroy=function(){s.purge(),t.emit("destroyed"),h(!0)},t.prev=function(){t.moveToIdx(t.track.details.abs-1,!0)},t.next=function(){t.moveToIdx(t.track.details.abs+1,!0)},t.update=S,b(t.options)}),S,x,w],i||[],!0),d={},a={emit:function(e){d[e]&&d[e].forEach(function(e){e(a)});var t=a.options&&a.options[e];t&&t(a)},moveToIdx:function(e,t,i){var n=a.track.idxToDist(e,t);if(n){var l=a.options.defaultAnimation;a.animator.start([{distance:n,duration:y(i||l,"duration",500),easing:y(i||l,"easing",function(e){return 1+--e*e*e*e*e})}])}},on:function(e,t,i){void 0===i&&(i=!1),d[e]||(d[e]=[]);var n=d[e].indexOf(t);n>-1?i&&delete d[e][n]:i||d[e].push(t)},options:t},function(){if(a.track=function(e){var t,i,n,l,r,a,d,u,c,h,v,g,m,w,x=1/0,S=[],k=null,A=0;function I(e){V(A+e)}function E(e){var t=C(A+e).abs;return q(t)===t?t:null}function C(e){var t=Math.floor(Math.abs(b(e/i))),n=b((e%i+i)%i);n===i&&(n=0);var l=p(e),r=d.indexOf(o([],d,!0).reduce(function(e,t){return Math.abs(t-n)<Math.abs(e-n)?t:e})),s=r;return l<0&&t++,r===a&&(s=0,t+=l>0?1:-1),{abs:s+t*a*l,origin:r,rel:s}}function M(e,t,i){if(t||!l.loop)return L(e,i);if(q(e)!==e)return null;var n,r=C(null!=i?i:A),o=r.abs,d=e-r.rel,s=o+d;n=L(s);var u=L(s-a*p(d));return(null!==u&&Math.abs(u)<Math.abs(n)||null===n)&&(n=u),b(n)}function L(e,t){if(null==t&&(t=b(A)),n=e,q(n)!==n||null===e)return null;e=Math.round(e);var n,l=C(t),r=l.abs,o=l.rel,s=l.origin,u=T(e),c=(t%i+i)%i,h=d[s],v=Math.floor((e-(r-o))/a)*i;return b(h-c-h+d[u]+v+(s===a?i:0))}function q(e){return f(e,c,h)}function T(e){return(e%a+a)%a}function V(t){i=t-A,S.push({distance:i,timestamp:s()}),S.length>6&&(S=S.slice(-6)),A=b(t);var i,n=z().abs;if(n!==k){var l=null!==k;k=n,l&&e.emit("slideChanged")}}function z(o){var d=o?null:function(){if(a){var e=l.loop,t=e?(A%i+i)%i:A,o=(e?A%i:A)-r[0][2],d=0-(o<0&&e?i-Math.abs(o):o),s=0,u=C(A),f=u.abs,y=u.rel,b=r[y][2],x=r.map(function(t,n){var r=d+s;(r<0-t[0]||r>1)&&(r+=(Math.abs(r)>i-1&&e?i:0)*p(-r));var o=n-y,u=p(o),c=o+f;e&&(-1===u&&r>b&&(c+=a),1===u&&r<b&&(c-=a),null!==v&&c<v&&(r+=i),null!==g&&c>g&&(r-=i));var h=r+t[0]+t[1],m=Math.max(r>=0&&h<=1?1:h<0||r>1?0:r<0?Math.min(1,(t[0]+r)/t[0]):(1-r)/t[0],0);return s+=t[0]+t[1],{abs:c,distance:l.rtl?-1*r+1-t[0]:r,portion:m,size:t[0]}});return y=T(f=q(f)),{abs:q(f),length:n,max:w,maxIdx:h,min:m,minIdx:c,position:A,progress:e?t/i:A/n,rel:y,slides:x,slidesLength:i}}}();return t.details=d,e.emit("detailsChanged"),d}return t={absToRel:T,add:I,details:null,distToIdx:E,idxToDist:M,init:function(t){var o,s,f,p;if(function(){if(a=(r=((l=e.options).trackConfig||[]).map(function(e){return[y(e,"size",1),y(e,"spacing",0),y(e,"origin",0)]})).length){i=b(r.reduce(function(e,t){return e+t[0]+t[1]},0));var t,o=a-1;n=b(i+r[0][2]-r[o][0]-r[o][2]-r[o][1]),d=r.reduce(function(e,i){if(!e)return[0];var n=r[e.length-1],l=e[e.length-1]+(n[0]+n[2])+n[1];return l-=i[2],e[e.length-1]>l&&(l=e[e.length-1]),l=b(l),e.push(l),(!t||t<l)&&(u=e.length-1),t=l,e},null),0===n&&(u=0),d.push(b(i))}}(),!a)return z(!0);o=e.options.range,v=c=(s=e.options.loop)?y(s,"min",-1/0):0,g=h=s?y(s,"max",x):u,f=y(o,"min",null),p=y(o,"max",null),f&&(c=f),p&&(h=p),m=c===-1/0?c:e.track.idxToDist(c||0,!0,0),w=h===x?h:M(h,!0,0),null===p&&(g=h),y(o,"align",!1)&&h!==x&&0===r[T(h)][2]&&(w-=1-r[T(h)][0],h=E(w-A)),m=b(m),w=b(w),Number(t)===t?I(L(q(t))):z()},to:V,velocity:function(){var e=s(),t=S.reduce(function(t,i){var n=i.distance,l=i.timestamp;return e-l>200||(p(n)!==p(t.distance)&&t.distance&&(t={distance:0,lastTimestamp:0,time:0}),t.time&&(t.distance+=n),t.lastTimestamp&&(t.time+=l-t.lastTimestamp),t.lastTimestamp=l),t},{distance:0,lastTimestamp:0,time:0});return t.distance/t.time||0}}}(a),a.animator=function(e){var t,i,n,l,r,o;function a(e){t.active=e}function d(e){t.targetIdx=e}function s(){var t;t=r,window.cancelAnimationFrame(t),a(!1),d(null),o&&e.emit("animationStopped"),o=null}return t={active:!1,start:function(t){if(s(),e.track.details){var u=0,c=e.track.details.position;i=0,n=0,l=t.map(function(e){var t,i=Number(c),l=null!==(t=e.earlyExit)&&void 0!==t?t:e.duration,r=e.easing,o=e.distance*r(l/e.duration)||0;c+=o;var a=n;return n+=l,u+=o,[i,e.distance,a,n,e.duration,r]}),d(e.track.distToIdx(u)),function t(){r=window.requestAnimationFrame(function r(s){o||(o=s),a(!0);var u=s-o;u>n&&(u=n);var c=l[i];if(c[3]<u)return i++,r(s);var h=c[2],v=c[4],g=c[0],f=c[1]*(0,c[5])(0===v?1:(u-h)/v);if(f&&e.track.to(g+f),u<n)return t();o=null,a(!1),d(null),e.emit("animationEnded")})}(),e.emit("animationStarted")}},stop:s,targetIdx:null}}(a),l)for(var e=0;e<l.length;e++)(0,l[e])(a);a.track.init(a.options.initial||0),a.emit("created")}(),a}catch(e){console.error(e)}};let A=(e,t,i)=>{var n,l,r,o,a,d;switch(t){case"tablet":return null!==(l=null!==(n=null==e?void 0:e.tablet)&&void 0!==n?n:null==e?void 0:e.desktop)&&void 0!==l?l:i;case"mobile":return null!==(a=null!==(o=null!==(r=null==e?void 0:e.mobile)&&void 0!==r?r:null==e?void 0:e.tablet)&&void 0!==o?o:null==e?void 0:e.desktop)&&void 0!==a?a:i;default:return null!==(d=null==e?void 0:e.desktop)&&void 0!==d?d:i}},I=(e,t)=>({[`--${e}`]:null==t?void 0:t.desktop,[`--${e}-tablet`]:null==t?void 0:t.tablet,[`--${e}-mobile`]:null==t?void 0:t.mobile}),E=(e,t)=>{let i=(e,t,i)=>{let n=null==t?void 0:t[e],l=null==i?void 0:i[e];return l?"100%":n};return{desktop:i("desktop",e,t),tablet:i("tablet",e,t),mobile:i("mobile",e,t)}};function C(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let M=["desktop","mobile","tablet"],L=(e,t)=>{let i={};return M.forEach(n=>{i={...i,[`--d${"desktop"===n?"":`-${n}`}`]:`${e(n)?"none":t}`}}),i};class q extends GP.Component{createOrIframe(e,t){var i,n;if((null==t?void 0:t.featureVideo)&&(null==t?void 0:t.featureVideo.tagName)==="IFRAME"){null==t||t.featureVideo.setAttribute("src",null!==(i=null==t?void 0:t.mediaLastSourceURL)&&void 0!==i?i:"");return}if(!(null==t?void 0:t.featureVideo)||(null==t?void 0:t.featureVideo)&&(null==t?void 0:t.featureVideo.tagName)!=="IFRAME"){(null==t?void 0:t.featureVideo)&&(null==t||t.featureVideo.remove());let i=document.createElement("iframe");i.allowFullscreen=!0,i.allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",i.frameBorder="0",i.setAttribute("class","feature-video w-full h-full relative"),i.setAttribute("controls",""),i.setAttribute("autoplay",""),i.src=null!==(n=null==t?void 0:t.mediaLastSourceURL)&&void 0!==n?n:"",null==e||e.appendChild(i)}}createOrHtml5(e,t){var i,n;if((null==t?void 0:t.featureVideo)&&(null==t?void 0:t.featureVideo.tagName)==="VIDEO"&&(null==t||t.featureVideo.setAttribute("src",null!==(i=null==t?void 0:t.mediaLastSourceURL)&&void 0!==i?i:"")),!(null==t?void 0:t.featureVideo)||(null==t?void 0:t.featureVideo)&&(null==t?void 0:t.featureVideo.tagName)!=="VIDEO"){(null==t?void 0:t.featureVideo)&&(null==t||t.featureVideo.remove());let i=document.createElement("video");i.setAttribute("class","feature-video w-full relative"),i.setAttribute("src",null!==(n=null==t?void 0:t.mediaLastSourceURL)&&void 0!==n?n:""),i.setAttribute("style","max-height: 100%"),i.setAttribute("controls",""),i.setAttribute("autoplay",""),null==e||e.appendChild(i)}}renderExternalVideo(e){let t=document.createElement("iframe");return t.allowFullscreen=!0,t.allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",t.setAttribute("class","feature-video relative"),Object.assign(t.style,{width:"100%",height:"100%"}),t.setAttribute("controls","true"),t.setAttribute("autoplay","true"),t.setAttribute("frameBorder","0"),t.src=null!=e?e:"",t}constructor(){super(),C(this,"currentDevice",void 0),C(this,"featureImageHeightGlobal",0),C(this,"timeout",null),C(this,"currentActiveImageID","0"),C(this,"firstRenderFeatureImage",()=>{document.addEventListener("DOMContentLoaded",()=>{var e;let t=this.querySelector(".featured-image"),i=this.getContext("variantSelected");if(null==i?void 0:i.featured_image){let n=this.getActiveImage(i.featured_image),l=null==t?void 0:t.querySelector(".model-viewer"),r=null==t?void 0:t.querySelector(".feature-video"),o=null==t?void 0:t.querySelector("img");if(null==o||o.classList.remove("hidden"),null==l||l.classList.add("hidden"),null==r||r.classList.add("hidden"),n){n.id=(null===(e=o.getAttribute("id"))||void 0===e?void 0:e.trim())||n.id,this.handleChangeFeaturedImage(n),this.handleChangeZoomLensImage(n);let t=this.getSetting();(null==t?void 0:t.hoverEffect)!=="other"&&this.handleChangeOtherFeaturedImage(n),this.handleActiveImagesWhenChangeVariant("grid-gallery",n),this.handleActiveImagesWhenChangeVariant("carousel-gallery",n)}}})}),C(this,"getWidthItemCarousel",()=>{var e,t,n;let l=this.getStyles(),r=this.getSetting(),o=this.querySelector(".featured-image"),a=(null==o?void 0:o.clientHeight)||0;return`${(a-i(null==l?void 0:null===(e=l.spacing)||void 0===e?void 0:e[this.currentDevice],5)*(((null==r?void 0:null===(t=r.slidesToShow)||void 0===t?void 0:t[this.currentDevice])||4)-1))/((null==r?void 0:null===(n=r.slidesToShow)||void 0===n?void 0:n[this.currentDevice])||4)+20}px`}),C(this,"getStyles",()=>{let e=this.getState("styles");return e}),C(this,"getSetting",()=>{let e=this.getState("setting");return e}),C(this,"getPositionByDevice",e=>{let t=this.getStyles();return A(null==t?void 0:t.position,e)}),C(this,"getCarouselLayout",()=>{let e=this.getStyles(),i={};return t.forEach(t=>{var n,l;let r=this.getPositionByDevice(t);i="right"==r||"left"==r?{...i,[t]:null==e?void 0:null===(n=e.verticalLayoutRow)||void 0===n?void 0:n[t]}:{...i,[t]:null==e?void 0:null===(l=e.verticalLayout)||void 0===l?void 0:l[t]}}),i}),C(this,"getWidthForGallery",()=>{let e=this.getStyles(),i=null==e?void 0:e.fullWidth,n=null==e?void 0:e.width;return t.forEach(t=>{var l,r,o,a,d;let s=null==e?void 0:null===(l=e.position)||void 0===l?void 0:l[t],u=(null===(r=i)||void 0===r?void 0:r[t])===void 0?null===(o=i)||void 0===o?void 0:o.desktop:null===(a=i)||void 0===a?void 0:a[t];i={...i,[t]:u},"bottom-left"===s||"bottom-center"===s||(i={...i,[t]:!1},n={...n,[t]:u?"100%":null==e?void 0:null===(d=e.width)||void 0===d?void 0:d[t]})}),{...I("w",E(n,i)),...I("maxw",E(n,i))}}),C(this,"getStyleOfObject",e=>{let t=Object.keys(e),i="";return t.forEach(t=>{i+=`${t}: ${e[t]};`}),i}),C(this,"getGalleryDisplay",()=>{let e=this.getSetting();return L(t=>!!((null==e?void 0:e.galleryVisible)&&(null==e?void 0:e.galleryVisible[t])!==void 0&&!(null==e?void 0:e.galleryVisible[t])),"flex")}),C(this,"setHeightForProductGallery",()=>{let t=this.querySelector(".gp-product-images-gallery"),i=e();if(t){let e=this.getHeightForGallery()[i]||0;e?t.style.height=e:t.style.height=""}}),C(this,"getHeightForGallery",()=>{let e={},n=this.getStyles(),l=this.getSetting(),r=this.querySelector(".featured-image-only");return t.forEach(t=>{var o,a,d,s,u,c,h,v,g;let f=i(null==n?void 0:null===(o=n.height)||void 0===o?void 0:o[t],0),p=A(null==l?void 0:l.galleryVisible,t),m=A(null==l?void 0:l.featureImageVisible,t),y=A(null==n?void 0:n.position,t),b=(null==r?void 0:r.clientHeight)||100*((null==l?void 0:null===(a=l.slidesToShow)||void 0===a?void 0:a[t])||5);e=f?"number"==typeof(null==n?void 0:null===(d=n.height)||void 0===d?void 0:d[t])?{...e,[t]:(null==n?void 0:null===(c=n.height)||void 0===c?void 0:c[t])+"px"}:(null==n?void 0:null===(u=n.height)||void 0===u?void 0:null===(s=u[t])||void 0===s?void 0:s.includes("%"))?{...e,[t]:i(null==n?void 0:null===(h=n.height)||void 0===h?void 0:h[t],b)*b/100+"px"}:{...e,[t]:null==n?void 0:null===(v=n.height)||void 0===v?void 0:v[t]}:{...e,[t]:("left"===y||"right"===y)&&p&&m?b+"px":null==n?void 0:null===(g=n.height)||void 0===g?void 0:g[t]}}),e}),C(this,"handleChangeVariant",()=>{this.subscribeContext((e,t)=>{if(e.variantSelected!=t.variantSelected){var i;let t=null===(i=e.variantSelected)||void 0===i?void 0:i.featured_image,n=this.getActiveImage(t);if(n){if("image"===n.contentType){let e=this.querySelector(".featured-image"),t=null==e?void 0:e.querySelector(".model-viewer"),i=null==e?void 0:e.querySelector(".feature-video"),n=null==e?void 0:e.querySelector("img");null==n||n.classList.remove("hidden"),null==t||t.classList.add("hidden"),null==i||i.classList.add("hidden")}this.handleChangeFeaturedImage(n),this.handleChangeZoomLensImage(n);let e=this.getSetting();(null==e?void 0:e.hoverEffect)!=="other"&&this.handleChangeOtherFeaturedImage(n),this.handleActiveImagesWhenChangeVariant("grid-gallery",n),this.handleActiveImagesWhenChangeVariant("carousel-gallery",n)}}})}),C(this,"handleActiveImagesWhenChangeVariant",(e,t)=>{let i="grid-gallery"===e?this.querySelector(".grid-gallery"):this.querySelector(".carousel-gallery");if(!i)return;let n=this.getState("product"),l=i.querySelectorAll(".image-item"),r=t.index;l.forEach((e,i)=>{e.id===t.id&&(r=i)}),this.handleActiveImage(l[r]);let o=this.getState("id"),a=this.querySelector(`#gp-root-carousel-${o}-${n.id}`);a&&(null==a||a.nextToIndex(t.index))}),C(this,"getActiveImage",e=>{var t,i,n,l;let r=this.querySelector(".grid-gallery")||this.querySelector(".carousel-gallery");if(!r)return;let o=r.querySelectorAll(".image-item"),a=null==e?void 0:e.id,d=-1;if(o.forEach((e,t)=>{e.id==(null==a?void 0:a.toString())&&(d=t)}),d>=0){let r=null===(t=o[d])||void 0===t?void 0:t.querySelector("img"),a=null===(i=o[d])||void 0===i?void 0:i.getAttribute("media-type"),s=null==r?void 0:null===(n=r.dataset)||void 0===n?void 0:n.src;return{src:(null==e?void 0:e.src)||s||(null==r?void 0:r.src),id:r.id||(null===(l=o[d])||void 0===l?void 0:l.getAttribute("id")),width:r.width,height:r.height,alt:r.alt,index:d,contentType:a}}}),C(this,"handleFeaturedImageWrapper",()=>{let e=this.getSetting(),t=this.getState("product"),i=(null==t?void 0:t.handle)?function(...e){let t=Array.from(Array.isArray(e[0])?e[0]:e);return function(e){let t=[];if(0===e.length)return"";if("string"!=typeof e[0])throw TypeError("Url must be a string. Received "+e[0]);e[0].match(/^[^/:]+:\/*$/)&&e.length>1&&(e[0]=e.shift()+e[0]),e[0].match(/^file:\/\/\//)?e[0]=e[0].replace(/^([^/:]+):\/*/,"$1:///"):e[0]=e[0].replace(/^([^/:]+):\/*/,"$1://");for(let i=0;i<e.length;i++){let n=e[i];if("string"!=typeof n)throw TypeError("Url must be a string. Received "+n);""!==n&&(i>0&&(n=n.replace(/^\/+/,"")),n=i<e.length-1?n.replace(/\/+$/,""):n.replace(/\/+$/,"/"),t.push(n))}let i=t.join("/");i=i.replace(/\/(\?|&|#[^!])/g,"$1");let n=i.split("?");return n.shift()+(n.length>0?"?":"")+n.join("&")}(t)}("/products",t.handle):"#",n=(null==e?void 0:e.clickEffect)!==void 0&&(null==e?void 0:e.clickEffect)=="link";if(n){let e=this.querySelector(".featured-image-wrapper");e.href=i}else{let i=this.querySelector(".featured-image-wrapper");null==i||i.addEventListener("click",()=>{var n,l,r,o;if((null===(n=i.querySelector("video"))||void 0===n?void 0:n.getAttribute("src"))||(null==e?void 0:e.clickEffect)!=="popup")return;let a=this.querySelectorAll(".image-item"),d=i.querySelector("img"),s=!(null==d?void 0:d.classList.toString().includes("hidden")),u=i.querySelector(".feature-video"),c=!(null==u?void 0:u.classList.toString().includes("hidden")),h=i.querySelector("model-viewer"),v=!(null==h?void 0:h.classList.toString().includes("hidden"));if(h&&v||u&&c){let e=v?null==h?void 0:h.getAttribute("src"):null==u?void 0:u.getAttribute("src"),i=null===(l=t.media.find(t=>{var i;return null==t?void 0:null===(i=t.sources)||void 0===i?void 0:i.find(t=>(null==t?void 0:t.url)==e)}))||void 0===l?void 0:l.position;i||a.forEach(t=>{let n=v?t.getAttribute("media-source-url"):t.getAttribute("media-last-source-url");n==e&&(i=parseInt(t.getAttribute("grid-index")||"0"))});let n={src:e,width:parseInt(null==h?void 0:h.getAttribute("width")),height:parseInt(null==h?void 0:h.getAttribute("height")),index:i&&i>=1?i-1:i||0};return this.handleOpenModal(n)}if(d&&s){let e=null==d?void 0:null===(r=d.dataset)||void 0===r?void 0:r.src,i=null==d?void 0:null===(o=d.src)||void 0===o?void 0:o.replace("_1024x1024",""),n=null==t?void 0:t.media.findIndex(e=>"image"===e.media_type&&i.includes(null==e?void 0:e.src.trim())),l={src:e||d.src,id:d.id,width:d.width,height:d.height,alt:d.alt,index:n};return this.handleOpenModal(l)}return this.handleOpenModal()})}}),C(this,"handleOtherFeaturedImageWrapper",()=>{let e=this.getSetting();if((null==e?void 0:e.hoverEffect)==="other"){let t=this.querySelectorAll(".image-item"),i=(null==e?void 0:e.otherImage)?null==e?void 0:e.otherImage:0;t.forEach((e,n)=>{var l;let r=e.querySelector("img"),o=null==r?void 0:null===(l=r.dataset)||void 0===l?void 0:l.src;n===i&&this.handleChangeOtherFeaturedImage({src:o||r.src,id:r.id,width:r.width,height:r.height,alt:r.alt,index:n<t.length/2?n:n-t.length/2})})}}),C(this,"handleMouse",()=>{let e=this.getSetting(),t=this.querySelector(".featured-image-wrapper");t&&"none"!==e.hoverEffect&&(null==t||t.addEventListener("mousemove",e=>{e.stopPropagation(),this.handleMouseMove(e)}),null==t||t.addEventListener("mouseout",e=>{e.stopPropagation(),this.handleMouseOut()}))}),C(this,"displayZoomImage",({event:e,featureImageDom:t,zoomSize:i,imagePosition:n,slideWidth:l,imageOffsetX:r,imageOffsetY:o,$zoomElement:a,$zoomLens:d})=>{let s=this.getSetting();if(a){if(a.style.width=`${i}px`,e.clientX>=(null==n?void 0:n.x)&&e.clientX<=n.right&&e.clientY>=(null==n?void 0:n.y)&&e.clientY<=n.bottom?(((null==s?void 0:s.hoverEffect)=="zoom"&&(null==s?void 0:s.zoomType)=="default"||(null==s?void 0:s.hoverEffect)=="other")&&(a.style.opacity="1"),d&&(null==s?void 0:s.hoverEffect)=="zoom"&&(null==s?void 0:s.zoomType)=="glasses"&&(d.style.opacity="1")):(a.style.opacity="0",d&&(d.style.opacity="0")),l&&(null==s?void 0:s.hoverEffect)=="zoom"&&(null==s?void 0:s.zoomType)=="default"){let e=r/(null==t?void 0:t.offsetWidth),n=o/(null==t?void 0:t.offsetHeight);a.style.top=((null==t?void 0:t.offsetHeight)-a.offsetHeight)*n+"px",a.style.left=(l-i)*e+"px"}(null==s?void 0:s.hoverEffect)=="other"&&(a.style.top="0px",a.style.left="0px")}}),C(this,"handleMouseMove",e=>{var t,i,n,l,r;let o=this.getSetting(),a=null===(t=e.currentTarget)||void 0===t?void 0:t.querySelector("img"),d=null===(i=e.currentTarget)||void 0===i?void 0:i.querySelector(".feature-video"),s=null===(n=e.currentTarget)||void 0===n?void 0:n.querySelector("model-viewer"),u=null==a?void 0:a.getBoundingClientRect();if(null==a?void 0:a.classList.contains("hidden")){if(null==s?void 0:s.classList.contains("hidden")){if(null==d?void 0:d.classList.contains("hidden"))u=null==a?void 0:a.getBoundingClientRect();else{if("none"!==o.hoverEffect)return;u=null==d?void 0:d.getBoundingClientRect()}}else if(u=null==s?void 0:s.getBoundingClientRect(),"none"!==o.hoverEffect)return}else u=null==a?void 0:a.getBoundingClientRect();let c=this.querySelector(".featured-image"),h=this.querySelector(".zoom-element"),v=this.querySelector(".zoom-lens-element"),g=(null==c?void 0:c.clientWidth)||0,f=(null==c?void 0:c.clientHeight)||0,p=(null==o?void 0:o.zoom)&&!(o.zoom<100)&&o.zoom/100||1,m=((null==c?void 0:c.clientWidth)||1)*((null==o?void 0:o.hoverEffect)=="other"?1:p||1),y=e.clientX-(null===(l=u)||void 0===l?void 0:l.x),b=e.clientY-(null===(r=u)||void 0===r?void 0:r.y);if(this.displayZoomImage({event:e,featureImageDom:a,zoomSize:m,imagePosition:u,slideWidth:g,imageOffsetX:y,imageOffsetY:b,$zoomElement:h,$zoomLens:v}),(null==o?void 0:o.hoverEffect)=="zoom"&&(null==o?void 0:o.zoomType)=="glasses"&&v){let e=v.offsetWidth/2,t=v.offsetHeight/2,i=f||1;y>g-e/p&&(y=g-e/p),y<e/p&&(y=e/p),b>i-t/p&&(b=i-t/p),b<t/p&&(b=t/p),v.style.top=b-t+"px",v.style.left=y-e+"px",v.style.backgroundSize=m+"px "+i*p+"px",v.style.backgroundPosition=`-${y*p-e}px -${b*p-t}px`}}),C(this,"handleMouseOut",()=>{let e=this.querySelector(".zoom-element"),t=this.querySelector(".zoom-lens-element");e&&(e.style.opacity="0"),t&&(t.style.opacity="0")}),C(this,"handleActiveImage",(e,t)=>{let i=this.querySelectorAll(".image-item"),n=this.getSetting();i.forEach(e=>{let i=e.getAttribute("id");((null==n?void 0:n.showActiveStatus)&&i!==this.currentActiveImageID||t)&&e.setAttribute("data-outline","deactive")}),(null==n?void 0:n.showActiveStatus)&&e&&(e.setAttribute("data-outline","active"),this.currentActiveImageID=e.getAttribute("id")||"")}),C(this,"setEventForImages",()=>{let e=this.querySelectorAll(".image-item"),t=this.querySelector(".featured-image");e.forEach((i,n)=>{let l=i.querySelector("img");l&&(null==i||i.addEventListener("click",()=>{var r,o,a,d;let s=null==l?void 0:null===(r=l.dataset)||void 0===r?void 0:r.src,u=null==l?void 0:null===(o=l.dataset)||void 0===o?void 0:o.contenttype,c=null==l?void 0:null===(a=l.dataset)||void 0===a?void 0:a.code,h=i.getAttribute("media-type"),v=i.getAttribute("media-source-url"),g=i.getAttribute("media-last-source-url"),f=i.getAttribute("media-poster"),p=null==t?void 0:t.querySelector(".model-viewer"),m=null==t?void 0:t.querySelector(".feature-video"),y=null==t?void 0:t.querySelector("img"),b={src:s||l.src,id:l.id,width:l.width,height:l.height,alt:l.alt,index:n<e.length/2?n:n-e.length/2,contentType:u,code:c};switch(h){case"":case null:case"image":null==y||y.classList.remove("hidden"),null==m||m.classList.add("hidden"),null==m||m.setAttribute("src",""),null==p||p.classList.add("hidden"),this.handleChangeZoomLensImage(b);break;case"external_video":null==y||y.classList.add("hidden"),null==p||p.classList.add("hidden"),null==m||m.classList.remove("hidden"),this.createOrIframe(t,{mediaLastSourceURL:g,featureVideo:m});break;case"video":null==y||y.classList.add("hidden"),null==p||p.classList.add("hidden"),null==m||m.classList.remove("hidden"),this.createOrHtml5(t,{mediaLastSourceURL:g,featureVideo:m});break;case"model":if(null==y||y.classList.add("hidden"),null==m||m.classList.add("hidden"),p)null==t||null===(d=t.querySelector(".model-viewer"))||void 0===d||d.classList.remove("hidden"),p.setAttribute("src",null!=v?v:""),p.setAttribute("poster",null!=f?f:"");else{let e=this.renderModal3d(v,f);null==t||t.appendChild(e)}}this.handleActiveImage(i,!0),this.handleClickImage(b)}))})}),C(this,"renderModal3d",(e,t)=>{let i=document.createElement("model-viewer");return i.setAttribute("class","model-viewer z-10"),i.setAttribute("src",null!=e?e:""),i.setAttribute("poster",null!=t?t:""),i.setAttribute("camera-controls","true"),i.setAttribute("data-js-focus-visible","true"),i.setAttribute("data-shopify-feature","true"),i.setAttribute("ar-status","not-presenting"),Object.assign(i.style,{width:"100%",height:"100%"}),i}),C(this,"renderVideo",(e,t)=>{let i=document.createElement("video");return i.setAttribute("class","feature-video"),i.setAttribute("src",null!=e?e:""),i.setAttribute("poster",null!=t?t:""),i.setAttribute("controls","true"),i.setAttribute("autoplay","true"),Object.assign(i.style,{width:"calc(100% - 2px)","max-height":"100%",position:"relative"}),i}),C(this,"handleOpenModal",e=>{let t=this.getSetting();if((null==t?void 0:t.clickEffect)=="popup"||A(null==t?void 0:t.largeViewInPopup,this.currentDevice)){let t=document.getElementById("gp-modal-product-image");t&&t.remove(),this.createModelViewImages(e)}}),C(this,"renderImageItems",e=>{let t="";return e.forEach(e=>{t+=`<div class="gem-slider-item" style="height: 100%;"><img style="width: 100%; height: 100%; object-fit: contain;
    object-position: center; top: 0; left: 0" src="${e}" /></div>`}),t}),C(this,"sliderTemplate",e=>`<div class="gem-slider-item" style="height: 100%; text-align: center; display: flex; align-items: center; justify-content: center;">
            ${e}
        </div>`),C(this,"renderMediaItem",e=>{let t=this.querySelector(".grid-gallery")||this.querySelector(".carousel-gallery"),i="";return e.forEach(e=>{var l,r,o,a,d,s;if("model"===e.media_type){let t=this.makeMediaSource(e.sources,!0);i+=this.sliderTemplate(null===(l=this.renderModal3d(null==t?void 0:t.url,null==e?void 0:null===(r=e.preview_image)||void 0===r?void 0:r.src))||void 0===l?void 0:l.outerHTML)}else if("video"===e.media_type){let t=this.makeMediaSource(e.sources,!1);i+=this.sliderTemplate(null===(o=this.renderVideo(null==t?void 0:t.url,null==e?void 0:null===(a=e.preview_image)||void 0===a?void 0:a.src))||void 0===o?void 0:o.outerHTML)}else if("external_video"===e.media_type){let n=this.makeMediaSource(e.sources,!1),l=null==n?void 0:n.url;n||(l=(null==t?void 0:null===(s=t.querySelector(`[external-id="${e.external_id}"]`))||void 0===s?void 0:s.getAttribute("media-last-source-url"))||""),i+=this.sliderTemplate(null===(d=this.renderExternalVideo(l))||void 0===d?void 0:d.outerHTML)}else if("image"===e.media_type){let t=n(null==e?void 0:e.src,"1024x1024");i+=this.sliderTemplate(`<img style="width: 100%; height: 100%; object-fit: contain;
          object-position: center; top: 0; left: 0" src="${t}" />`)}}),i}),C(this,"makeMediaSource",(e,t)=>{if(e)return t?e.find(e=>"glb"===e.format):e.find(e=>"mp4"===e.format)}),C(this,"navigationStyle",`
    <style>
      .navigation-wrapper {
        position: relative;
        width: 100%;
        height: 80vh;
      }
      @media (max-width: 992px) {
        .gp-modal-product-image-wrapper {
          width: 100% !important;
        }

        .navigation-wrapper {
          height: 60vh !important;
        }

        .arrow {
          width: 24px;
          height: 24px;
        }

        .arrow--right {
          left: auto;
          right: -20px;
        }

        .arrow--left {
          right: auto;
          left: -20px;
        }
      }
      .dots {
        display: flex;
        justify-content: center;
        position: absolute;
        bottom: -17px;
        left: 50%;
        transform: translateX(-50%);
      }

      .dot {
        border: none;
        width: 12px;
        height: 12px;
        background: #E2E2E2;
        border-radius: 50%;
        margin: 0 4px;
        padding: 6px;
        cursor: pointer;
        display: block !important;
      }

      .dot:focus {
        outline: none;
      }

      .dot--active {
        background: #121212;
      }

      .arrow {
        width: 24px;
        height: 24px;
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        -webkit-transform: translateY(-50%);
        fill: "#6B7280";
        cursor: pointer;
        display: block;
      }

      .arrow--left {
        left: -10px;
        background-image: url("data:image/svg+xml, %3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' %3E%3Cpath d='M16.67 0l2.83 2.829-9.339 9.175 9.339 9.167-2.83 2.829-12.17-11.996z' %3E%3C/path%3E%3C/svg%3E");
      }

      .arrow--right {
        left: auto;
        right: -10px;
        background-image: url("data:image/svg+xml, %3Csvg xmlns='http://www.w3.org/2000/svg'  viewBox='0 0 24 24' %3E%3Cpath d='M5 3l3.057-3 11.943 12-11.943 12-3.057-3 9-9z'%3E%3C/path%3E%3C/svg%3E");
      }
    </style>
  `),C(this,"createModelViewImages",e=>{var t,i;let n=this.getState("product"),l=document.createElement("div");l.id="gp-modal-product-image",l.style.cssText=`
      width: 100%;
      height: 100vh;
      position: fixed;
      background-color: transparent;
      top: 0;
      left: 0;
      z-index: 9999;
    `;let r=this.renderMediaItem(n.media),o=`
      ${this.navigationStyle}
      <div style="width: 100%; height: 100%; position: relative; padding: 0 16px; 
      display: flex; align-items: center; justify-content: center">
        <div id="gp-modal-product-image-overlay" style="background-color: rgb(0 0 0 / 0.6); width: 100%; height: 100%; position: absolute; z-index: 0; display: block !important"></div>
        <div class="gp-modal-product-image-wrapper" style="width: 80%; background-color: #fff; border-radius: 3px; padding: 24px; overflow: hidden; z-index: 1; position: relative;">
          <div id="my-keen-slider" style="width: 100%; height: 100%; display: flex; position: relative; overflow: hidden;">
            ${r}
          </div>
          <div></div>
        </div>
      </div>
      `;l.innerHTML=o,null===(t=document.querySelector("body"))||void 0===t||t.appendChild(l);let a=new k("#my-keen-slider",{selector:".gem-slider-item",loop:!1,vertical:!1,slides:{origin:"center",perView:1},drag:-1===n.media.findIndex(e=>"model"===e.media_type)},[this.sliderNavigation]);e&&e.index>-1&&a.moveToIdx(null==e?void 0:e.index),null===(i=l.querySelector("#gp-modal-product-image-overlay"))||void 0===i||i.addEventListener("click",()=>{l.remove()})}),C(this,"sliderNavigation",e=>{let t,i,n,l;function r(r){(function(i){if(i){let e=t.parentNode;for(;t.firstChild;)null==e||e.insertBefore(t.firstChild,t);o(t);return}t=a("navigation-wrapper"),e.container.parentNode.appendChild(t),t.appendChild(e.container)})(r),function(n){if(n){o(i);return}i=a("dots"),e.track.details.slides.forEach((t,n)=>{let l=a("dot");l.addEventListener("click",()=>e.moveToIdx(n)),i.appendChild(l)}),t.appendChild(i)}(r),function(i){if(i){o(n),o(l);return}(n=a("arrow arrow--left")).addEventListener("click",()=>e.prev()),(l=a("arrow arrow--right")).addEventListener("click",()=>e.next()),t.appendChild(n),t.appendChild(l)}(r)}function o(e){var t;null==e||null===(t=e.parentNode)||void 0===t||t.removeChild(e)}function a(e){let t=document.createElement("div"),i=e.split(" ");return i.forEach(e=>t.classList.add(e)),t}function d(){var t,r,o;let a=e.track.details.rel,d=e.options.loop;n.style.display=0!==a||d?"block":"none",l.style.display=a!==(null==e?void 0:null===(o=e.track)||void 0===o?void 0:null===(r=o.details)||void 0===r?void 0:null===(t=r.slides)||void 0===t?void 0:t.length)-1||d?"block":"none",Array.from(i.children).forEach(function(e,t){t===a?e.classList.add("dot--active"):e.classList.remove("dot--active")})}e.slides.length<2||(e.on("created",()=>{r(),d()}),e.on("optionsChanged",()=>{r(!0),r(),d()}),e.on("slideChanged",()=>{d()}),e.on("destroyed",()=>{r(!0)}))}),C(this,"handleClickImage",e=>{let t=this.getSetting();A(null==t?void 0:t.largeViewInPopup,this.currentDevice)&&this.handleOpenModal(e);let i=this.querySelector(".modal-wrapper"),n=null==i?void 0:i.querySelector("gp-carousel");e&&n&&(null==n||n.nextToIndex(e.index||0)),this.handleChangeFeaturedImage(e),(null==t?void 0:t.hoverEffect)!=="other"&&this.handleChangeOtherFeaturedImage(e)}),C(this,"handleChangeOtherFeaturedImage",e=>{let t=this.querySelector(".image-zoom");t&&(t.src=n(e.src,"1024x1024"),t.srcset=this.getImageSrcSet(e.src),t.setAttribute("data-srcset",this.getImageSrcSet(e.src)),t.id=e.id,t.width=e.width,t.height=e.height,t.alt=e.alt)}),C(this,"handleChangeFeaturedImage",e=>{let t=this.querySelector(".featured-image-only");t&&(t.src=n(e.src,"1024x1024"),t.srcset=this.getImageSrcSet(e.src),t.id=e.id,t.width=e.width,t.height=e.height,t.alt=e.alt)}),C(this,"handleChangeZoomLensImage",e=>{let t=this.querySelector(".zoom-lens-element");t&&(t.style.backgroundImage="url("+n(e.src,"1024x1024")+")")}),C(this,"getImageSrcSet",e=>`${n(e,"768x768")} 767w, ${n(e,"1024x1024")} 1023w, ${n(e,"1920x1920")} 1440w`),this.currentDevice=e(),this.setEventForImages(),this.handleMouse(),this.handleFeaturedImageWrapper(),this.handleChangeVariant(),this.handleOtherFeaturedImageWrapper(),this.setHeightForProductGallery(),this.firstRenderFeatureImage();let l=this.querySelector(".featured-image");l&&new ResizeObserver(()=>{let e=this.querySelector(".featured-image"),t=(null==e?void 0:e.clientHeight)||0;this.featureImageHeightGlobal=t,this.setHeightForProductGallery()}).observe(l,{})}}customElements.get("gp-product-images")||customElements.define("gp-product-images",q)}();
